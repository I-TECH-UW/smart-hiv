<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="92">
         <a:s>/**
 * Library: HIV.IND.96 Logic
 * Ref No: CCA.4
 * Short Name: Cervical cancer survival
 *
 * Definition: Crude probability of surviving 1 year after a diagnosis of cervical cancer
 *
 * Numerator: Number of women living with HIV still alive 12 months after receiving a diagnosis of invasive cervical cancer
 * Numerator Calculation: COUNT of women with &quot;HIV status&quot;='HIV-positive' AND &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer' for a &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; in previous 12 month reporting period
 * Numerator Exclusions: &quot;Date of death&quot; less than 12 months after &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; for &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer'
 *
 * Denominator: Number of women living with HIV who received a diagnosis of invasive cervical cancer within a 12-month cohort observation period
 * Denominator Calculation: COUNT of women with &quot;HIV status&quot;='HIV-positive' AND &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer' for a &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; in previous 12 month reporting period
 * Denominator Exclusions: 
 *
 * Disaggregations:
 * • Age (15–19, 20–24, 25–29, 30–49, 50+ years) 
 *  • Cervical cancer stage at diagnosis (0, I, II, III, IV) 
 *  • Cities and other administrative areas of epidemiologic importance
 *
 * Disaggregation Elements: Age | Cervical cancer stage at diagnosis
 *
 * Numerator and Denominator Elements:
 * Cervical cancer diagnosis 
 *  Date of diagnosis of cervical precancer lesions or invasive cervical cancer 
 *  HIV status
 *
 * Reference: Consolidated guidelines on person-centred HIV strategic information: strengthening routine data for impact. Geneva: World Health Organization; 2022
 * 
 * Data Concepts:
 * HIV.A.DE17: Age | Calculated age (number of years) of the client based on date of birth
 * HIV.B.DE115: HIV status | HIV status reported after applying the national HIV testing algorithm. No single HIV test can provide an HIV-positive diagnosis.
 * HIV.B.DE116: HIV-positive | Client is HIV-positive
 * HIV.B.DE117: HIV-negative | Client is HIV-negative
 * HIV.B.DE118: Unknown | Client has unknown HIV status
 * HIV.D.DE705: Date of diagnosis of cervical precancer lesions or invasive cervical cancer | Date of diagnosis of cervical precancer lesions or invasive cervical cancer
 * HIV.D.DE709: Cervical cancer diagnosis | Type of cervical cancer diagnosis
 * HIV.D.DE710: Cervical precancer lesions | Client is diagnosed with cervical precancer lesions
 * HIV.D.DE711: Invasive cervical cancer | Client is diagnosed with invasive cervical cancer disease
 * HIV.D.DE712: Cervical cancer stage at diagnosis | Cervical cancer stage at diagnosis of cervical cancer
 * HIV.D.DE713: Stage 0 | Stage 0 cervical cancer at diagnosis of cervical cancer
 * HIV.D.DE714: Stage I | Stage I cervical cancer at diagnosis of cervical cancer
 * HIV.D.DE715: Stage II | Stage II cervical cancer at diagnosis of cervical cancer
 * HIV.D.DE716: Stage III | Stage III cervical cancer at diagnosis of cervical cancer
 * HIV.D.DE717: Stage IV | Stage IV cervical cancer at diagnosis of cervical cancer
 *
 * Additional Context
 * - what it measures: This indicator measures the effectiveness of cervical cancer treatment for women diagnosed with cervical cancer.
 * - rationale: • Surveillance of cervical cancer survival among women living with HIV is essential in monitoring the access and effectiveness of treatment and follow-up to support the needs of cancer survivors. Adequate and complete follow-up is a prerequisite to conducting a survival study. | • It is calculated by assessing the percentage of women living with HIV who were diagnosed with invasive cervical cancer who were still alive 12 months after their cervical cancer diagnosis. It excludes those who were not followed for the 12-month period. In places with good retention and follow-up, 5-year survival can also be calculated, including only those individuals under observation with complete follow-up five years after their diagnosis of cervical cancer.
 * - method: This indicator uses a cohort analysis to measure the proportion of women living with HIV who are still alive 12 months after their diagnosis with cervical cancer. |  | The source of data is Individual-level data obtained from programme records.
 * 
 * Suggested Scoring Method: proportion | http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/proportion-measure-cqfm
 */

// Profiles:
/*
 - HIVStatusCondition
 - HIVStatusObservation
 - Patient
 - InvasiveCervicalCancerDiagnosis
 */

library HIVIND96Logic</a:s>
      </a:s>
   </annotation>
   <identifier id="HIVIND96Logic" system="http://smart.who.int/hiv"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="66:1-66:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>// Included Libraries
using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="68:1-68:44" localIdentifier="HIC" path="http://smart.who.int/hiv/HIVCommon" version="0.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVCommon</a:s>
               </a:s>
               <a:s> version '0.0.1' called HIC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="69:1-69:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="71:1-71:29" localIdentifier="WCom" path="http://smart.who.int/hiv/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WCom</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="72:1-72:29" localIdentifier="HE" path="http://smart.who.int/hiv/HIVElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVElements</a:s>
               </a:s>
               <a:s> called HE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="73:1-73:39" localIdentifier="HIE" path="http://smart.who.int/hiv/HIVIndicatorElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVIndicatorElements</a:s>
               </a:s>
               <a:s> called HIE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="74:1-74:31" localIdentifier="Config" path="http://smart.who.int/hiv/HIVConfig">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVConfig</a:s>
               </a:s>
               <a:s> called Config</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="13" locator="77:1-77:88" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>// Indicator Definition
parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="12">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="11">
                     <a:s>Date</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s> default </a:s>
               <a:s r="10">
                  <a:s r="8">Interval[@2023-01-01, @2023-01-30]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="10" locator="77:55-77:88" lowClosed="true" highClosed="true" xsi:type="Interval">
            <low localId="8" locator="77:64-77:74" xsi:type="Date">
               <year valueType="t:Integer" value="2023" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
            </low>
            <high localId="9" locator="77:77-77:87" xsi:type="Date">
               <year valueType="t:Integer" value="2023" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="30" xsi:type="Literal"/>
            </high>
         </default>
         <parameterTypeSpecifier localId="12" locator="77:32-77:45" xsi:type="IntervalTypeSpecifier">
            <pointType localId="11" locator="77:41-77:44" name="t:Date" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <contexts>
      <def locator="79:1-79:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="79:1-79:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="79:1-79:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="15" locator="86:1-87:6" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="15">
               <a:s r="14">/* Populations */

/*
 *Initial Population
 */

define &quot;Initial Population&quot;:
  true</a:s>
            </a:s>
         </annotation>
         <expression localId="14" locator="87:3-87:6" valueType="t:Boolean" value="true" xsi:type="Literal"/>
      </def>
      <def localId="33" locator="96:1-99:121" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="33">
               <a:s>/**
 * Numerator
 * 
 * Definition: Number of women living with HIV still alive 12 months after receiving a diagnosis of invasive cervical cancer
 * Calculation: COUNT of women with &quot;HIV status&quot;='HIV-positive' AND &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer' for a &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; in previous 12 month reporting period
 */

define &quot;Numerator&quot;:
  </a:s>
               <a:s r="32">
                  <a:s r="17">
                     <a:s r="16">
                        <a:s>HIE</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="17">
                        <a:s>&quot;Has HIV-positive Status&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s> and 
    </a:s>
                  <a:s r="31">
                     <a:s>exists</a:s>
                     <a:s r="30">
                        <a:s>(</a:s>
                        <a:s r="30">
                           <a:s>
                              <a:s r="19">
                                 <a:s r="18">
                                    <a:s>
                                       <a:s>HE.&quot;Invasive cervical cancer&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
  </a:s>
                           <a:s r="29">
                              <a:s>where </a:s>
                              <a:s r="29">
                                 <a:s r="21">
                                    <a:s r="20">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="21">
                                       <a:s>prevalenceInterval()</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="29"> during </a:s>
                                 <a:s r="28">
                                    <a:s>Interval[</a:s>
                                    <a:s r="25">
                                       <a:s r="23">
                                          <a:s>start of </a:s>
                                          <a:s r="22">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> - </a:s>
                                       <a:s r="24">
                                          <a:s>12 months</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="27">
                                       <a:s>start of </a:s>
                                       <a:s r="26">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="32" locator="97:3-99:121" xsi:type="And">
            <operand localId="17" locator="97:3-97:31" name="Has HIV-positive Status" libraryName="HIE" xsi:type="ExpressionRef"/>
            <operand localId="31" locator="98:5-99:121" xsi:type="Exists">
               <operand localId="30" locator="98:11-99:121" xsi:type="Query">
                  <source localId="19" locator="98:12-98:42" alias="C">
                     <expression localId="18" locator="98:12-98:40" name="Invasive cervical cancer" libraryName="HE" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="29" locator="99:3-99:120" xsi:type="IncludedIn">
                     <operand localId="21" locator="99:9-99:30" name="prevalenceInterval" libraryName="WCom" xsi:type="FunctionRef">
                        <operand localId="20" locator="99:9" name="C" xsi:type="AliasRef"/>
                     </operand>
                     <operand xsi:type="Interval">
                        <low xsi:type="ToDateTime">
                           <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           <operand path="low" xsi:type="Property">
                              <source localId="28" locator="99:39-99:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low localId="25" locator="99:48-99:88" xsi:type="Subtract">
                                    <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="23" locator="99:48-99:76" xsi:type="Start">
                                       <operand localId="22" locator="99:57-99:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                    <operand localId="24" locator="99:80-99:88" value="12" unit="months" xsi:type="Quantity"/>
                                 </low>
                                 <high localId="27" locator="99:91-99:119" xsi:type="Start">
                                    <operand localId="26" locator="99:100-99:119" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </high>
                              </source>
                           </operand>
                        </low>
                        <lowClosedExpression path="lowClosed" xsi:type="Property">
                           <source localId="28" locator="99:39-99:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low localId="25" locator="99:48-99:88" xsi:type="Subtract">
                                 <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="23" locator="99:48-99:76" xsi:type="Start">
                                    <operand localId="22" locator="99:57-99:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </operand>
                                 <operand localId="24" locator="99:80-99:88" value="12" unit="months" xsi:type="Quantity"/>
                              </low>
                              <high localId="27" locator="99:91-99:119" xsi:type="Start">
                                 <operand localId="26" locator="99:100-99:119" name="Measurement Period" xsi:type="ParameterRef"/>
                              </high>
                           </source>
                        </lowClosedExpression>
                        <high xsi:type="ToDateTime">
                           <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           <operand path="high" xsi:type="Property">
                              <source localId="28" locator="99:39-99:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low localId="25" locator="99:48-99:88" xsi:type="Subtract">
                                    <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="23" locator="99:48-99:76" xsi:type="Start">
                                       <operand localId="22" locator="99:57-99:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                    <operand localId="24" locator="99:80-99:88" value="12" unit="months" xsi:type="Quantity"/>
                                 </low>
                                 <high localId="27" locator="99:91-99:119" xsi:type="Start">
                                    <operand localId="26" locator="99:100-99:119" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </high>
                              </source>
                           </operand>
                        </high>
                        <highClosedExpression path="highClosed" xsi:type="Property">
                           <source localId="28" locator="99:39-99:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low localId="25" locator="99:48-99:88" xsi:type="Subtract">
                                 <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="23" locator="99:48-99:76" xsi:type="Start">
                                    <operand localId="22" locator="99:57-99:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </operand>
                                 <operand localId="24" locator="99:80-99:88" value="12" unit="months" xsi:type="Quantity"/>
                              </low>
                              <high localId="27" locator="99:91-99:119" xsi:type="Start">
                                 <operand localId="26" locator="99:100-99:119" name="Measurement Period" xsi:type="ParameterRef"/>
                              </high>
                           </source>
                        </highClosedExpression>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="53" locator="108:1-113:3" name="Numerator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="53">
               <a:s>/**
 * Numerator Exclusions
 *
 * Calculation: &quot;Date of death&quot; less than 12 months after &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; for &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer'
 */
    
define &quot;Numerator Exclusions&quot;:
</a:s>
               <a:s r="52">
                  <a:s>exists</a:s>
                  <a:s r="51">
                     <a:s>(</a:s>
                     <a:s r="51">
                        <a:s>
                           <a:s r="35">
                              <a:s r="34">
                                 <a:s>
                                    <a:s>HE.&quot;Invasive cervical cancer&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> C</a:s>
                           </a:s>
                        </a:s>
                        <a:s> 
  </a:s>
                        <a:s r="50">
                           <a:s>where
    </a:s>
                           <a:s r="50">
                              <a:s>( </a:s>
                              <a:s r="50">
                                 <a:s r="41">
                                    <a:s r="37">
                                       <a:s r="36">
                                          <a:s>HE</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="37">
                                          <a:s>&quot;Death documented&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="41"> after </a:s>
                                    <a:s r="40">
                                       <a:s>start of </a:s>
                                       <a:s r="39">
                                          <a:s r="38">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="39">
                                             <a:s>prevalenceInterval()</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> and
      </a:s>
                                 <a:s r="49">
                                    <a:s r="43">
                                       <a:s r="42">
                                          <a:s>HE</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="43">
                                          <a:s>&quot;Death documented&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="49"> before </a:s>
                                    <a:s r="48">
                                       <a:s>(</a:s>
                                       <a:s r="48">
                                          <a:s r="46">
                                             <a:s>start of </a:s>
                                             <a:s r="45">
                                                <a:s r="44">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="45">
                                                   <a:s>prevalenceInterval()</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> + </a:s>
                                          <a:s r="47">
                                             <a:s>12 months</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="52" locator="109:1-113:3" xsi:type="Exists">
            <operand localId="51" locator="109:7-113:3" xsi:type="Query">
               <source localId="35" locator="109:8-109:38" alias="C">
                  <expression localId="34" locator="109:8-109:36" name="Invasive cervical cancer" libraryName="HE" xsi:type="ExpressionRef"/>
               </source>
               <where localId="50" locator="110:3-112:81" xsi:type="And">
                  <operand localId="41" locator="111:7-111:65" xsi:type="After">
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="37" locator="111:7-111:27" name="Death documented" libraryName="HE" xsi:type="ExpressionRef"/>
                     <operand localId="40" locator="111:35-111:65" xsi:type="Start">
                        <signature xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="39" locator="111:44-111:65" name="prevalenceInterval" libraryName="WCom" xsi:type="FunctionRef">
                           <operand localId="38" locator="111:44" name="C" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="49" locator="112:7-112:80" xsi:type="Before">
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="43" locator="112:7-112:27" name="Death documented" libraryName="HE" xsi:type="ExpressionRef"/>
                     <operand localId="48" locator="112:36-112:80" xsi:type="Add">
                        <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="46" locator="112:37-112:67" xsi:type="Start">
                           <signature xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="45" locator="112:46-112:67" name="prevalenceInterval" libraryName="WCom" xsi:type="FunctionRef">
                              <operand localId="44" locator="112:46" name="C" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                        <operand localId="47" locator="112:71-112:79" value="12" unit="months" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="71" locator="123:1-126:121" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="71">
               <a:s>/**
 * Denominator
 *
 * Definition: Number of women living with HIV who received a diagnosis of invasive cervical cancer within a 12-month cohort observation period
 * Calculation: COUNT of women with &quot;HIV status&quot;='HIV-positive' AND &quot;Cervical cancer diagnosis&quot;='Invasive cervical cancer' for a &quot;Date of diagnosis of cervical precancer lesions or invasive cervical cancer&quot; in previous 12 month reporting period
 */

define &quot;Denominator&quot;:
  </a:s>
               <a:s r="70">
                  <a:s r="55">
                     <a:s r="54">
                        <a:s>HIE</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="55">
                        <a:s>&quot;Has HIV-positive Status&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s> and 
    </a:s>
                  <a:s r="69">
                     <a:s>exists</a:s>
                     <a:s r="68">
                        <a:s>(</a:s>
                        <a:s r="68">
                           <a:s>
                              <a:s r="57">
                                 <a:s r="56">
                                    <a:s>
                                       <a:s>HE.&quot;Invasive cervical cancer&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
  </a:s>
                           <a:s r="67">
                              <a:s>where </a:s>
                              <a:s r="67">
                                 <a:s r="59">
                                    <a:s r="58">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="59">
                                       <a:s>prevalenceInterval()</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="67"> during </a:s>
                                 <a:s r="66">
                                    <a:s>Interval[</a:s>
                                    <a:s r="63">
                                       <a:s r="61">
                                          <a:s>start of </a:s>
                                          <a:s r="60">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> - </a:s>
                                       <a:s r="62">
                                          <a:s>12 months</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="65">
                                       <a:s>start of </a:s>
                                       <a:s r="64">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="70" locator="124:3-126:121" xsi:type="And">
            <operand localId="55" locator="124:3-124:31" name="Has HIV-positive Status" libraryName="HIE" xsi:type="ExpressionRef"/>
            <operand localId="69" locator="125:5-126:121" xsi:type="Exists">
               <operand localId="68" locator="125:11-126:121" xsi:type="Query">
                  <source localId="57" locator="125:12-125:42" alias="C">
                     <expression localId="56" locator="125:12-125:40" name="Invasive cervical cancer" libraryName="HE" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="67" locator="126:3-126:120" xsi:type="IncludedIn">
                     <operand localId="59" locator="126:9-126:30" name="prevalenceInterval" libraryName="WCom" xsi:type="FunctionRef">
                        <operand localId="58" locator="126:9" name="C" xsi:type="AliasRef"/>
                     </operand>
                     <operand xsi:type="Interval">
                        <low xsi:type="ToDateTime">
                           <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           <operand path="low" xsi:type="Property">
                              <source localId="66" locator="126:39-126:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low localId="63" locator="126:48-126:88" xsi:type="Subtract">
                                    <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="61" locator="126:48-126:76" xsi:type="Start">
                                       <signature xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                       </signature>
                                       <operand localId="60" locator="126:57-126:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                    <operand localId="62" locator="126:80-126:88" value="12" unit="months" xsi:type="Quantity"/>
                                 </low>
                                 <high localId="65" locator="126:91-126:119" xsi:type="Start">
                                    <signature xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    </signature>
                                    <operand localId="64" locator="126:100-126:119" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </high>
                              </source>
                           </operand>
                        </low>
                        <lowClosedExpression path="lowClosed" xsi:type="Property">
                           <source localId="66" locator="126:39-126:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low localId="63" locator="126:48-126:88" xsi:type="Subtract">
                                 <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="61" locator="126:48-126:76" xsi:type="Start">
                                    <signature xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    </signature>
                                    <operand localId="60" locator="126:57-126:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </operand>
                                 <operand localId="62" locator="126:80-126:88" value="12" unit="months" xsi:type="Quantity"/>
                              </low>
                              <high localId="65" locator="126:91-126:119" xsi:type="Start">
                                 <signature xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="64" locator="126:100-126:119" name="Measurement Period" xsi:type="ParameterRef"/>
                              </high>
                           </source>
                        </lowClosedExpression>
                        <high xsi:type="ToDateTime">
                           <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           <operand path="high" xsi:type="Property">
                              <source localId="66" locator="126:39-126:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low localId="63" locator="126:48-126:88" xsi:type="Subtract">
                                    <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="61" locator="126:48-126:76" xsi:type="Start">
                                       <signature xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                       </signature>
                                       <operand localId="60" locator="126:57-126:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                    <operand localId="62" locator="126:80-126:88" value="12" unit="months" xsi:type="Quantity"/>
                                 </low>
                                 <high localId="65" locator="126:91-126:119" xsi:type="Start">
                                    <signature xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    </signature>
                                    <operand localId="64" locator="126:100-126:119" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </high>
                              </source>
                           </operand>
                        </high>
                        <highClosedExpression path="highClosed" xsi:type="Property">
                           <source localId="66" locator="126:39-126:120" lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low localId="63" locator="126:48-126:88" xsi:type="Subtract">
                                 <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="61" locator="126:48-126:76" xsi:type="Start">
                                    <signature xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    </signature>
                                    <operand localId="60" locator="126:57-126:76" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </operand>
                                 <operand localId="62" locator="126:80-126:88" value="12" unit="months" xsi:type="Quantity"/>
                              </low>
                              <high localId="65" locator="126:91-126:119" xsi:type="Start">
                                 <signature xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="64" locator="126:100-126:119" name="Measurement Period" xsi:type="ParameterRef"/>
                              </high>
                           </source>
                        </highClosedExpression>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="74" locator="135:1-136:26" name="Age Stratifier" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="74">
               <a:s>/* end Populations */

/*
 * Disaggregators
 */

define &quot;Age Stratifier&quot;:
	</a:s>
               <a:s r="73">
                  <a:s r="72">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="73">
                     <a:s>&quot;By Age Stratifier 9&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="73" locator="136:2-136:26" name="By Age Stratifier 9" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="77" locator="138:1-139:38" name="Geographic Region Stratifier" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="77">
               <a:s>define &quot;Geographic Region Stratifier&quot;:
	</a:s>
               <a:s r="76">
                  <a:s r="75">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="76">
                     <a:s>&quot;By Geographic Region Stratifier&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="76" locator="139:2-139:38" name="By Geographic Region Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="80" locator="141:1-142:74" name="Cervical cancer stage at diagnosis of cervical cancer Stratifier" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="80">
               <a:s>define &quot;Cervical cancer stage at diagnosis of cervical cancer Stratifier&quot;:
	</a:s>
               <a:s r="79">
                  <a:s r="78">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="79">
                     <a:s>&quot;By Cervical cancer stage at diagnosis of cervical cancer Stratifier&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="79" locator="142:2-142:74" name="By Cervical cancer stage at diagnosis of cervical cancer Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="92" locator="145:1-148:80" name="Stratification" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="92">
               <a:s>define &quot;Stratification&quot;:
</a:s>
               <a:s r="91">
                  <a:s r="87">
                     <a:s r="84">
                        <a:s r="82">
                           <a:s r="81">
                              <a:s>HIE</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="82">
                              <a:s>&quot;By Age Stratifier 9&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
+ </a:s>
                        <a:s r="83">
                           <a:s>':'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> + </a:s>
                     <a:s r="86">
                        <a:s r="85">
                           <a:s>HIE</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="86">
                           <a:s>&quot;By Geographic Region Stratifier&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
+ </a:s>
                  <a:s r="90">
                     <a:s r="89">
                        <a:s r="88">
                           <a:s>HIE</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="89">
                           <a:s>&quot;By Cervical cancer stage at diagnosis of cervical cancer Stratifier&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="90">
                        <a:s>code</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="91" locator="146:1-148:80" xsi:type="Concatenate">
            <operand localId="87" locator="146:1-147:45" xsi:type="Concatenate">
               <operand localId="84" locator="146:1-147:5" xsi:type="Concatenate">
                  <operand localId="82" locator="146:1-146:25" name="By Age Stratifier 9" libraryName="HIE" xsi:type="ExpressionRef"/>
                  <operand localId="83" locator="147:3-147:5" valueType="t:String" value=":" xsi:type="Literal"/>
               </operand>
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="86" locator="147:9-147:45" name="By Geographic Region Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="90" locator="148:3-148:80" path="code" xsi:type="Property">
               <source localId="89" locator="148:3-148:75" name="By Cervical cancer stage at diagnosis of cervical cancer Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
   </statements>
</library>
