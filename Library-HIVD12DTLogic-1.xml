<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:t name="DecisionID" value="HIV.D12.DT"/>
      <a:t name="BusinessRule" value="Determine recommended screenings and tests"/>
      <a:t name="Trigger" value="HIV.D12.Determine recommended screenings and tests"/>
      <a:t name="HitPolicy" value="Rule Order"/>
      <a:t name="Description" value="Determine recommended screenings and tests&#xa;&#xa;Data Concepts:&#xa;&#xa;&#xa;Consolidated guidelines on HIV prevention, testing, treatment, service delivery and monitoring: recommendations for a public health approach (2021)."/>
      <a:s r="251">
         <a:s>/**
Library: HIV.D12.DT Logic

@DecisionID: HIV.D12.DT
@BusinessRule: Determine recommended screenings and tests
@Trigger: HIV.D12.Determine recommended screenings and tests
@HitPolicy: Rule Order
@Description: Determine recommended screenings and tests

Data Concepts:


Consolidated guidelines on HIV prevention, testing, treatment, service delivery and monitoring: recommendations for a public health approach (2021).
*/

library HIVD12DTLogic</a:s>
      </a:s>
   </annotation>
   <identifier id="HIVD12DTLogic" system="http://smart.who.int/hiv"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="18:1-18:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="20:1-20:44" localIdentifier="HIC" path="http://smart.who.int/hiv/HIVCommon" version="0.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVCommon</a:s>
               </a:s>
               <a:s> version '0.0.1' called HIC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="21:1-21:35" localIdentifier="Concepts" path="http://smart.who.int/hiv/HIVConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVConcepts</a:s>
               </a:s>
               <a:s> called Concepts</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="22:1-22:44" localIdentifier="Elements" path="http://smart.who.int/hiv/HIVEncounterElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVEncounterElements</a:s>
               </a:s>
               <a:s> called Elements</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="23:1-23:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="25:1-25:29" localIdentifier="WCom" path="http://smart.who.int/hiv/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WCom</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <contexts>
      <def locator="27:1-27:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="27:1-27:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="27:1-27:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="16" locator="33:1-37:3" name="HIV testing services visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Reason for Visit&quot;"/>
            <a:t name="pseudocode" value="&quot;Reason for visit&quot;='HIV testing services visit'"/>
            <a:s r="16">
               <a:s>/*
 @input: &quot;Reason for Visit&quot;
 @pseudocode: &quot;Reason for visit&quot;='HIV testing services visit'
 */
define &quot;HIV testing services visit&quot;:
  </a:s>
               <a:s r="15">
                  <a:s>exists</a:s>
                  <a:s r="14">
                     <a:s>(
    </a:s>
                     <a:s r="14">
                        <a:s>
                           <a:s r="8">
                              <a:s r="7">
                                 <a:s>
                                    <a:s>Elements.&quot;Reason for visit D.DE1&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="13">
                           <a:s>where </a:s>
                           <a:s r="13">
                              <a:s r="10">
                                 <a:s r="9">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="10">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="12">
                                 <a:s r="11">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="12">
                                    <a:s>&quot;HIV testing services visit&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="15" locator="34:3-37:3" xsi:type="Exists">
            <operand localId="14" locator="34:9-37:3" xsi:type="Query">
               <source localId="8" locator="35:5-35:39" alias="O">
                  <expression localId="7" locator="35:5-35:37" name="Reason for visit D.DE1" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="13" locator="36:7-36:59" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="10" locator="36:13-36:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="12" locator="36:23-36:59" name="HIV testing services visit" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="26" locator="43:1-47:3" name="ART initiation visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Reason for Visit&quot;"/>
            <a:t name="pseudocode" value="&quot;Reason for visit&quot;='ART initiation'"/>
            <a:s r="26">
               <a:s>/*
 @input: &quot;Reason for Visit&quot;
 @pseudocode: &quot;Reason for visit&quot;='ART initiation'
 */
define &quot;ART initiation visit&quot;:
  </a:s>
               <a:s r="25">
                  <a:s>exists</a:s>
                  <a:s r="24">
                     <a:s>(
    </a:s>
                     <a:s r="24">
                        <a:s>
                           <a:s r="18">
                              <a:s r="17">
                                 <a:s>
                                    <a:s>Elements.&quot;Reason for visit D.DE1&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="23">
                           <a:s>where </a:s>
                           <a:s r="23">
                              <a:s r="20">
                                 <a:s r="19">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="20">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="22">
                                 <a:s r="21">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="22">
                                    <a:s>&quot;ART initiation&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="25" locator="44:3-47:3" xsi:type="Exists">
            <operand localId="24" locator="44:9-47:3" xsi:type="Query">
               <source localId="18" locator="45:5-45:39" alias="O">
                  <expression localId="17" locator="45:5-45:37" name="Reason for visit D.DE1" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="23" locator="46:7-46:47" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="20" locator="46:13-46:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="22" locator="46:23-46:47" name="ART initiation" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="36" locator="53:1-57:3" name="Clinical visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Reason for Visit&quot;"/>
            <a:t name="pseudocode" value="&quot;Reason for visit&quot;='Clinical visit"/>
            <a:s r="36">
               <a:s>/*
 @input: &quot;Reason for Visit&quot;
 @pseudocode: &quot;Reason for visit&quot;='Clinical visit
 */
define &quot;Clinical visit&quot;:
  </a:s>
               <a:s r="35">
                  <a:s>exists</a:s>
                  <a:s r="34">
                     <a:s>(
    </a:s>
                     <a:s r="34">
                        <a:s>
                           <a:s r="28">
                              <a:s r="27">
                                 <a:s>
                                    <a:s>Elements.&quot;Reason for visit D.DE1&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="33">
                           <a:s>where </a:s>
                           <a:s r="33">
                              <a:s r="30">
                                 <a:s r="29">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="30">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="32">
                                 <a:s r="31">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="32">
                                    <a:s>&quot;Clinical visit - HIV.D.DE3&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="35" locator="54:3-57:3" xsi:type="Exists">
            <operand localId="34" locator="54:9-57:3" xsi:type="Query">
               <source localId="28" locator="55:5-55:39" alias="O">
                  <expression localId="27" locator="55:5-55:37" name="Reason for visit D.DE1" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="33" locator="56:7-56:59" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="30" locator="56:13-56:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="32" locator="56:23-56:59" name="Clinical visit - HIV.D.DE3" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="41" locator="63:1-64:47" name="Age 20 or older" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Age&quot;"/>
            <a:t name="pseudocode" value="&quot;Age&quot; ≥ 20 years"/>
            <a:s r="41">
               <a:s>/*
 @input: &quot;Age&quot;
 @pseudocode: &quot;Age&quot; ≥ 20 years
 */
define &quot;Age 20 or older&quot;:
  </a:s>
               <a:s r="40">
                  <a:s r="38">
                     <a:s r="37">
                        <a:s>Elements</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="38">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="39"> >= 20</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="40" locator="64:3-64:47" xsi:type="GreaterOrEqual">
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="38" locator="64:3-64:41" name="Current Patient Age In Years" libraryName="Elements" xsi:type="ExpressionRef"/>
            <operand localId="39" locator="64:46-64:47" valueType="t:Integer" value="20" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="46" locator="70:1-71:46" name="Age under 20" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Age&quot;"/>
            <a:t name="pseudocode" value="&quot;&quot;Age&quot;&lt;20 years"/>
            <a:s r="46">
               <a:s>/*
 @input: &quot;Age&quot;
 @pseudocode: &quot;&quot;Age&quot;&lt;20 years
 */
define &quot;Age under 20&quot;:
  </a:s>
               <a:s r="45">
                  <a:s r="43">
                     <a:s r="42">
                        <a:s>Elements</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="43">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="44"> &lt; 20</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="45" locator="71:3-71:46" xsi:type="Less">
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="43" locator="71:3-71:41" name="Current Patient Age In Years" libraryName="Elements" xsi:type="ExpressionRef"/>
            <operand localId="44" locator="71:45-71:46" valueType="t:Integer" value="20" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="51" locator="77:1-78:47" name="Age 10 or older" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Age&quot;"/>
            <a:t name="pseudocode" value="'Age' ≥ 10 years"/>
            <a:s r="51">
               <a:s>/*
  @input: &quot;Age&quot;
  @pseudocode: 'Age' ≥ 10 years
  */
define &quot;Age 10 or older&quot;:
  </a:s>
               <a:s r="50">
                  <a:s r="48">
                     <a:s r="47">
                        <a:s>Elements</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="48">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="49"> >= 10</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="50" locator="78:3-78:47" xsi:type="GreaterOrEqual">
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="48" locator="78:3-78:41" name="Current Patient Age In Years" libraryName="Elements" xsi:type="ExpressionRef"/>
            <operand localId="49" locator="78:46-78:47" valueType="t:Integer" value="10" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="61" locator="84:1-88:3" name="HIV Positive test result" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;HIV test result&quot;"/>
            <a:t name="pseudocode" value="&quot;HIV test result&quot;='HIV-positive'"/>
            <a:s r="61">
               <a:s>/*
 @input: &quot;HIV test result&quot;
 @pseudocode: &quot;HIV test result&quot;='HIV-positive'
 */
define &quot;HIV Positive test result&quot;:
  </a:s>
               <a:s r="60">
                  <a:s>exists</a:s>
                  <a:s r="59">
                     <a:s>(
    </a:s>
                     <a:s r="59">
                        <a:s>
                           <a:s r="53">
                              <a:s r="52">
                                 <a:s>
                                    <a:s>Elements.&quot;HIV test result&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="58">
                           <a:s>where </a:s>
                           <a:s r="58">
                              <a:s r="55">
                                 <a:s r="54">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="55">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="57">
                                 <a:s r="56">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="57">
                                    <a:s>&quot;HIV-positive&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="60" locator="85:3-88:3" xsi:type="Exists">
            <operand localId="59" locator="85:9-88:3" xsi:type="Query">
               <source localId="53" locator="86:5-86:32" alias="O">
                  <expression localId="52" locator="86:5-86:30" name="HIV test result" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="58" locator="87:7-87:45" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="55" locator="87:13-87:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="57" locator="87:23-87:45" name="HIV-positive" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="66" locator="94:1-97:4" name="Not on ART" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;On ART&quot;"/>
            <a:t name="pseudocode" value="&quot;On ART&quot;=False"/>
            <a:s r="66">
               <a:s>/*
 @input: &quot;On ART&quot;
 @pseudocode: &quot;On ART&quot;=False
 */
define &quot;Not on ART&quot;:
  </a:s>
               <a:s r="65">
                  <a:s>not</a:s>
                  <a:s r="64">
                     <a:s>(</a:s>
                     <a:s r="64">
                        <a:s>exists</a:s>
                        <a:s r="63">
                           <a:s>(
    </a:s>
                           <a:s r="63">
                              <a:s r="62">
                                 <a:s>Elements</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="63">
                                 <a:s>&quot;On ART D.DE38&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="65" locator="95:3-97:4" xsi:type="Not">
            <operand localId="64" locator="95:6-97:4" xsi:type="Exists">
               <signature xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationStatement" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="63" locator="95:13-97:3" name="On ART D.DE38" libraryName="Elements" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="70" locator="103:1-106:3" name="On ART" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;On ART&quot;"/>
            <a:t name="pseudocode" value="&quot;On ART&quot;=True"/>
            <a:s r="70">
               <a:s>/*
 @input: &quot;On ART&quot;
 @pseudocode: &quot;On ART&quot;=True
 */
define &quot;On ART&quot;:
  </a:s>
               <a:s r="69">
                  <a:s>exists</a:s>
                  <a:s r="68">
                     <a:s>(
    </a:s>
                     <a:s r="68">
                        <a:s r="67">
                           <a:s>Elements</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="68">
                           <a:s>&quot;On ART D.DE38&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="69" locator="104:3-106:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationStatement" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="68" locator="104:9-106:3" name="On ART D.DE38" libraryName="Elements" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="73" locator="112:1-113:19" name="Client is female" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Gender&quot;"/>
            <a:t name="pseudocode" value="&quot;Gender&quot;='Female'"/>
            <a:s r="73">
               <a:s>/*
 @input: &quot;Gender&quot;
 @pseudocode: &quot;Gender&quot;='Female'
 */
define &quot;Client is female&quot;:
  </a:s>
               <a:s r="72">
                  <a:s r="71">
                     <a:s>Elements</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="72">
                     <a:s>&quot;Female&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="72" locator="113:3-113:19" name="Female" libraryName="Elements" xsi:type="ExpressionRef"/>
      </def>
      <def localId="82" locator="119:1-123:3" name="CD4 less than or equal to 100 cells/mm3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;CD4 count&quot;"/>
            <a:t name="pseudocode" value="&quot;CD4 count&quot; ≤ 100 cells/mm3"/>
            <a:s r="82">
               <a:s>/*
 @input: &quot;CD4 count&quot;
 @pseudocode: &quot;CD4 count&quot; ≤ 100 cells/mm3
 */
define &quot;CD4 less than or equal to 100 cells/mm3&quot;:
  </a:s>
               <a:s r="81">
                  <a:s>exists</a:s>
                  <a:s r="80">
                     <a:s>(
    </a:s>
                     <a:s r="80">
                        <a:s>
                           <a:s r="75">
                              <a:s r="74">
                                 <a:s>
                                    <a:s>Elements.&quot;CD4 count D.DE364&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="79">
                           <a:s>where </a:s>
                           <a:s r="79">
                              <a:s r="77">
                                 <a:s r="76">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="77">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="78"> &lt;= 100</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="81" locator="120:3-123:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="80" locator="120:9-123:3" xsi:type="Query">
               <source localId="75" locator="121:5-121:34" alias="O">
                  <expression localId="74" locator="121:5-121:32" name="CD4 count D.DE364" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="79" locator="122:7-122:26" xsi:type="LessOrEqual">
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:integer" xsi:type="As">
                        <operand localId="77" locator="122:13-122:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="78" locator="122:24-122:26" valueType="t:Integer" value="100" xsi:type="Literal"/>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="91" locator="129:1-133:3" name="CD4 less than or equal to 200 cells/mm3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;CD4 count&quot;"/>
            <a:t name="pseudocode" value="&quot;CD4 count&quot; ≤ 200 cells/mm3"/>
            <a:s r="91">
               <a:s>/*
 @input: &quot;CD4 count&quot;
 @pseudocode: &quot;CD4 count&quot; ≤ 200 cells/mm3
 */
define &quot;CD4 less than or equal to 200 cells/mm3&quot;:
  </a:s>
               <a:s r="90">
                  <a:s>exists</a:s>
                  <a:s r="89">
                     <a:s>(
    </a:s>
                     <a:s r="89">
                        <a:s>
                           <a:s r="84">
                              <a:s r="83">
                                 <a:s>
                                    <a:s>Elements.&quot;CD4 count D.DE364&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="88">
                           <a:s>where </a:s>
                           <a:s r="88">
                              <a:s r="86">
                                 <a:s r="85">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="86">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="87"> &lt;= 200</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="90" locator="130:3-133:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="89" locator="130:9-133:3" xsi:type="Query">
               <source localId="84" locator="131:5-131:34" alias="O">
                  <expression localId="83" locator="131:5-131:32" name="CD4 count D.DE364" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="88" locator="132:7-132:26" xsi:type="LessOrEqual">
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:integer" xsi:type="As">
                        <operand localId="86" locator="132:13-132:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="87" locator="132:24-132:26" valueType="t:Integer" value="200" xsi:type="Literal"/>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="101" locator="139:1-143:3" name="On AZT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Current medications&quot;"/>
            <a:t name="pseudocode" value="&quot;Current medications&quot;='AZT'"/>
            <a:s r="101">
               <a:s>/*
 @input: &quot;Current medications&quot;
 @pseudocode: &quot;Current medications&quot;='AZT'
 */
define &quot;On AZT&quot;:
  </a:s>
               <a:s r="100">
                  <a:s>exists</a:s>
                  <a:s r="99">
                     <a:s>(
    </a:s>
                     <a:s r="99">
                        <a:s>
                           <a:s r="93">
                              <a:s r="92">
                                 <a:s>
                                    <a:s>Elements.&quot;On ART D.DE38&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> MS</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="98">
                           <a:s>where </a:s>
                           <a:s r="98">
                              <a:s r="95">
                                 <a:s r="94">
                                    <a:s>MS</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="95">
                                    <a:s>medication</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="97">
                                 <a:s r="96">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="97">
                                    <a:s>&quot;AZT&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="100" locator="140:3-143:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationStatement" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="99" locator="140:9-143:3" xsi:type="Query">
               <source localId="93" locator="141:5-141:31" alias="MS">
                  <expression localId="92" locator="141:5-141:28" name="On ART D.DE38" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="98" locator="142:7-142:42" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="95" locator="142:13-142:25" path="medication" scope="MS" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="97" locator="142:29-142:42" name="AZT" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="111" locator="149:1-153:3" name="On TDF" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Current medications&quot;"/>
            <a:t name="pseudocode" value="&quot;Current medications&quot;='TDF'"/>
            <a:s r="111">
               <a:s>/*
 @input: &quot;Current medications&quot;
 @pseudocode: &quot;Current medications&quot;='TDF'
 */
define &quot;On TDF&quot;:
  </a:s>
               <a:s r="110">
                  <a:s>exists</a:s>
                  <a:s r="109">
                     <a:s>(
    </a:s>
                     <a:s r="109">
                        <a:s>
                           <a:s r="103">
                              <a:s r="102">
                                 <a:s>
                                    <a:s>Elements.&quot;On ART D.DE38&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> MS</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="108">
                           <a:s>where </a:s>
                           <a:s r="108">
                              <a:s r="105">
                                 <a:s r="104">
                                    <a:s>MS</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="105">
                                    <a:s>medication</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="107">
                                 <a:s r="106">
                                    <a:s>Concepts</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="107">
                                    <a:s>&quot;TDF - HIV.D.DE135&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="110" locator="150:3-153:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationStatement" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="109" locator="150:9-153:3" xsi:type="Query">
               <source localId="103" locator="151:5-151:31" alias="MS">
                  <expression localId="102" locator="151:5-151:28" name="On ART D.DE38" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="108" locator="152:7-152:56" xsi:type="Equivalent">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:CodeableConcept" xsi:type="As">
                        <operand localId="105" locator="152:13-152:25" path="medication" scope="MS" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="107" locator="152:29-152:56" name="TDF - HIV.D.DE135" libraryName="Concepts" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="120" locator="159:1-163:3" name="Suspicion of treatment failure or interruption" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Suspicion of treatment failure or interruption&quot;"/>
            <a:t name="pseudocode" value="&quot;Suspicion of treatment failure or interruption&quot;=True"/>
            <a:s r="120">
               <a:s>/*
 @input: &quot;Suspicion of treatment failure or interruption&quot;
 @pseudocode: &quot;Suspicion of treatment failure or interruption&quot;=True
 */
define &quot;Suspicion of treatment failure or interruption&quot;:
  </a:s>
               <a:s r="119">
                  <a:s>exists</a:s>
                  <a:s r="118">
                     <a:s>(
    </a:s>
                     <a:s r="118">
                        <a:s>
                           <a:s r="113">
                              <a:s r="112">
                                 <a:s>
                                    <a:s>Elements.&quot;Suspicion of treatment failure or interruption Observation&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="117">
                           <a:s>where </a:s>
                           <a:s r="117">
                              <a:s r="115">
                                 <a:s r="114">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="115">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="116"> = true</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="119" locator="160:3-163:3" xsi:type="Exists">
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="118" locator="160:9-163:3" xsi:type="Query">
               <source localId="113" locator="161:5-161:75" alias="O">
                  <expression localId="112" locator="161:5-161:73" name="Suspicion of treatment failure or interruption Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
               </source>
               <where localId="117" locator="162:7-162:26" xsi:type="Equal">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:boolean" xsi:type="As">
                        <operand localId="115" locator="162:13-162:19" path="value" scope="O" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="116" locator="162:23-162:26" valueType="t:Boolean" value="true" xsi:type="Literal"/>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="251" locator="169:1-410:4" name="Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="dynamicValue" value="Guidance"/>
            <a:s r="251">
               <a:s>/*
 @dynamicValue: Guidance
 */
define &quot;Guidance&quot;:
  </a:s>
               <a:s r="250">
                  <a:s>Combine(</a:s>
                  <a:s r="249">
                     <a:s>{
    </a:s>
                     <a:s r="130">
                        <a:s>if </a:s>
                        <a:s r="127">
                           <a:s r="125">
                              <a:s r="123">
                                 <a:s r="121">
                                    <a:s>&quot;HIV testing services visit&quot;</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="122">
                                    <a:s>&quot;Age 20 or older&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="124">
                                 <a:s>&quot;HIV Positive test result&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="126">
                              <a:s>&quot;Not on ART&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="128">
                           <a:s>'Recommended actions:
CD4 cell count
TB symptom screening

Desirable actions:
HBV (HBsAg) serology
HCV serology
Screen for sexually transmitted infections   
Assess for major noncommunicable chronic diseases and comorbidities

General care activities recommended: 
Determine WHO clinical stage based on past and current HIV-related conditions
Prepare for ART
Prepare, assess and support adherence
Provide family planning and contraception
Support disclosure and partner notification
Counsel on risk reduction and combination HIV prevention approaches
Assess, prevent and manage noncommunicable diseases
Screen for and manage mental health problems
Screen for and manage and substance use issues
Provide psychosocial counselling and support
Manage pain and symptoms
Conduct a nutritional assessment and counsel on nutrition

Preventing and treating coinfections: 
Provide co-trimoxazole preventive therapy
Conduct intensified TB case-finding
Provide isoniazid preventive therapy
Screen for cryptococcal infection and fungal prophylaxis
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="129">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="140">
                        <a:s>if </a:s>
                        <a:s r="137">
                           <a:s r="135">
                              <a:s r="133">
                                 <a:s r="131">
                                    <a:s>&quot;HIV testing services visit&quot;</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="132">
                                    <a:s>&quot;Age under 20&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="134">
                                 <a:s>&quot;HIV Positive test result&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="136">
                              <a:s>&quot;Not on ART&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="138">
                           <a:s>'Recommended:
CD4 cell count
TB symptom screening

Desirable: 
HBV (HBsAg) serology
HCV serology
Screen for sexually transmitted infections   
Assess for major noncommunicable chronic diseases and comorbidities

General care activities recommended:
 Determine WHO clinical stage based on past and current HIV-related conditions
Prepare for ART
Prepare, assess and support adherence
Provide family planning and contraception
Support disclosure and partner notification
Counsel on risk reduction and combination HIV prevention approaches
Assess, prevent and manage noncommunicable diseases
Screen for and manage mental health problems
Screen for and manage and substance use issues
Provide psychosocial counselling and support
Manage pain and symptoms
Conduct a nutritional, growth and development assessment

Preventing and treating coinfections: 
Provide co-trimoxazole preventive therapy
Conduct intensified TB case-finding
Provide isoniazid preventive therapy
Screen for cryptococcal infection and fungal prophylaxis
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="139">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="150">
                        <a:s>if </a:s>
                        <a:s r="147">
                           <a:s r="145">
                              <a:s r="143">
                                 <a:s r="141">
                                    <a:s>&quot;HIV testing services visit&quot;</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="142">
                                    <a:s>&quot;HIV Positive test result&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="144">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="146">
                              <a:s>&quot;CD4 less than or equal to 100 cells/mm3&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="148">
                           <a:s>'Desirable actions:
Cryptococcus antigen test'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="149">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="160">
                        <a:s>if </a:s>
                        <a:s r="157">
                           <a:s r="155">
                              <a:s r="153">
                                 <a:s r="151">
                                    <a:s>&quot;HIV testing services visit&quot;</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="152">
                                    <a:s>&quot;HIV Positive test result&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="154">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="156">
                              <a:s>&quot;Client is female&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="158">
                           <a:s>'Desirable actions: 
Pregnancy test'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="159">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="166">
                        <a:s>if </a:s>
                        <a:s r="163">
                           <a:s r="161">
                              <a:s>&quot;ART initiation visit&quot;</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="162">
                              <a:s>&quot;Not on ART&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="164">
                           <a:s>'Recommended: 
Baseline CD4 cell count for identifying advanced HIV disease
Age-appropriate TB symptom screening

Desirable: 
Blood pressure measurement 

General care activities recommended:
Preparing people for ART
WHO clinical staging, past and current HIV- related conditions
Preparing, assessing and supporting adherence
Pregnancy status, family planning and contraception
Support for disclosure and partner notification
Risk-reduction counselling and combination and HIV prevention approaches
Screening for, preventing and managing noncommunicable diseases
Screening for and managing mental health problems and substance use
Psychosocial counselling and support
Managing pain and symptoms
Nutritional assessment and counselling
Infant and child feeding
Nutritional, growth and development assessment for children and adolescents

Preventing and treating coinfections: 
Co-trimoxazole preventive therapy
Intensified TB case- finding
Isoniazid preventive therapy
Screening for cryptococcal infection and fungal prophylaxis when appropriate
Screening for hepatitis B and C
Malaria prevention (insecticide-treated bed nets and prophylaxis)
Screening for sexually transmitted infections
Preventing and screening for cervical cancer
Assessing for vaccine- preventable diseases other than HBV and HCV infection'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="165">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="176">
                        <a:s>if </a:s>
                        <a:s r="173">
                           <a:s r="171">
                              <a:s r="169">
                                 <a:s r="167">
                                    <a:s>&quot;ART initiation visit&quot;</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="168">
                                    <a:s>&quot;Age 10 or older&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="170">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="172">
                              <a:s>&quot;CD4 less than or equal to 200 cells/mm3&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="174">
                           <a:s>'Perform a cryptococcal antigen for adults and adolescents'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="175">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="184">
                        <a:s>if </a:s>
                        <a:s r="181">
                           <a:s r="179">
                              <a:s r="177">
                                 <a:s>&quot;ART initiation visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="178">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="180">
                              <a:s>&quot;On AZT&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="182">
                           <a:s>'Desirable actions: 
Haemoglobin test'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="183">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="192">
                        <a:s>if </a:s>
                        <a:s r="189">
                           <a:s r="187">
                              <a:s r="185">
                                 <a:s>&quot;ART initiation visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="186">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="188">
                              <a:s>&quot;On TDF&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="190">
                           <a:s>'Desirable actions: 
Serum creatinine test
Estimated glomerular filtration rate (eGFR)'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="191">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="200">
                        <a:s>if </a:s>
                        <a:s r="197">
                           <a:s r="195">
                              <a:s r="193">
                                 <a:s>&quot;ART initiation visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="194">
                                 <a:s>&quot;Not on ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="196">
                              <a:s>&quot;Client is female&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="198">
                           <a:s>'Desirable actions: 
Pregnancy test'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="199">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="208">
                        <a:s>if </a:s>
                        <a:s r="205">
                           <a:s r="203">
                              <a:s r="201">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="202">
                                 <a:s>&quot;Age 20 or older&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="204">
                              <a:s>&quot;On ART&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="206">
                           <a:s>'Recommended actions:
Schedule the following viral load tests: 
HIV viral load test ≤ (ART start date + 6 months)
HIV viral load test ≤ (ART start date + 12 months)
HIV viral load test every 12 months thereafter
Perform a CD4 cell count every 6 months until &quot;&quot;Established on ART&quot;&quot; = TRUE

Desirable actions:
Serum creatinine and estimated glomerular filtration rate for TDF

Recommended general care activities: 
Adherence support interventions should be provided to people on ART (p xxxix of source).
Manage current medications.
Provide family planning and contraception.
Support disclosure and partner notification.
Counsel on risk reduction and combination HIV prevention approaches.
Assess, prevent and manage noncommunicable diseases.
Screen for and manage mental health problems.
Screen for and manage and substance use issues.
Provide psychosocial counselling and support.
Manage pain and symptoms.
Conduct a nutritional assessment and counsel on nutrition.

Preventing and treating coinfections:
Provide co-trimoxazole preventive therapy
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="207">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="216">
                        <a:s>if </a:s>
                        <a:s r="213">
                           <a:s r="211">
                              <a:s r="209">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="210">
                                 <a:s>&quot;Age under 20&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="212">
                              <a:s>&quot;On ART&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="214">
                           <a:s>'Recommended actions: 
Schedule viral load tests on the following dates: 
HIV viral load test ≤ (ART start date + 6 months)
HIV viral load test ≤ (ART start date + 12 months)
HIV viral load test every 12 months thereafter
CD4 cell count every 6 months until &quot;&quot;Established on ART&quot;&quot; = TRUE

Recommended general care activities: 
Prepare, assess and support adherence.
Manage current medications.
Provide family planning and contraception.
Support disclosure and partner notification.
Counsel on risk reduction and combination HIV prevention approaches.
Assess, prevent and manage noncommunicable diseases.
Screen for and manage mental health problems.
Screen for and manage and substance use issues.
Provide psychosocial counselling and support.
Manage pain and symptoms.
Conduct a nutritional, growth and development assessment.

Preventing and treating coinfections:
Provide co-trimoxazole preventive therapy
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="215">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="224">
                        <a:s>if </a:s>
                        <a:s r="221">
                           <a:s r="219">
                              <a:s r="217">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="218">
                                 <a:s>&quot;Age under 20&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="220">
                              <a:s>&quot;Client is female&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="222">
                           <a:s>'Pregnancy test'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="223">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="232">
                        <a:s>if </a:s>
                        <a:s r="229">
                           <a:s r="227">
                              <a:s r="225">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="226">
                                 <a:s>&quot;On ART&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="228">
                              <a:s>&quot;On TDF&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="230">
                           <a:s>'Desirable actions: 
Serum creatinine
Estimated glomerular filtration rate for TDF'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="231">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="240">
                        <a:s>if </a:s>
                        <a:s r="237">
                           <a:s r="235">
                              <a:s r="233">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="234">
                                 <a:s>&quot;Age 20 or older&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="236">
                              <a:s>&quot;Suspicion of treatment failure or interruption&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="238">
                           <a:s>'Desirable actions: 
HBV (HBsAg) serology (before switching ART regimen if this testing was not done or if the result was negative at baseline and the patient was not vaccinated thereafter) 

Recommended general care activities: 
Prepare, assess and support adherence.
Manage current medications.
Provide family planning and contraception.
Support disclosure and partner notification.
Counsel on risk reduction and combination HIV prevention approaches.
Assess, prevent and manage noncommunicable diseases.
Screen for and manage mental health problems.
Screen for and manage and substance use issues.
Provide psychosocial counselling and support.
Manage pain and symptoms.
Conduct a nutritional assessment and counsel on nutrition.

Preventing and treating coinfections: 
Provide co-trimoxazole preventive therapy
Conduct intensified TB case-finding
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="239">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="248">
                        <a:s>if </a:s>
                        <a:s r="245">
                           <a:s r="243">
                              <a:s r="241">
                                 <a:s>&quot;Clinical visit&quot;</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="242">
                                 <a:s>&quot;Age 20 or older&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="244">
                              <a:s>&quot;Suspicion of treatment failure or interruption&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="246">
                           <a:s>'Desirable actions: 
HBV (HBsAg) serology (before switching ART regimen if this testing was not done or if the result was negative at baseline and the patient was not vaccinated thereafter)

Recommended general care activities:
Prepare, assess and support adherence.
Manage current medications.
Provide family planning and contraception.
Support disclosure and partner notification.
Counsel on risk reduction and combination HIV prevention approaches.
Assess, prevent and manage noncommunicable diseases.
Screen for and manage mental health problems.
Screen for and manage and substance use issues.
Provide psychosocial counselling and support.
Manage pain and symptoms.
Conduct a nutritional, growth and development assessment.

Preventing and treating coinfections:
Provide co-trimoxazole preventive therapy
Conduct intensified TB case-finding
Prevent malaria (insecticide- treated  bed-nets and prophylaxis)
Screen for sexually transmitted infections
Assess for vaccine-preventable diseases'</a:s>
                        </a:s>
                        <a:s>
    else </a:s>
                        <a:s r="247">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  }</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="250" locator="170:3-410:4" xsi:type="Combine">
            <source localId="249" locator="170:11-410:3" xsi:type="List">
               <element localId="130" locator="171:5-204:11" xsi:type="If">
                  <condition localId="127" locator="171:8-171:105" xsi:type="And">
                     <operand localId="125" locator="171:8-171:88" xsi:type="And">
                        <operand localId="123" locator="171:8-171:57" xsi:type="And">
                           <operand localId="121" locator="171:8-171:35" name="HIV testing services visit" xsi:type="ExpressionRef"/>
                           <operand localId="122" locator="171:41-171:57" name="Age 20 or older" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="124" locator="171:63-171:88" name="HIV Positive test result" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="126" locator="171:94-171:105" name="Not on ART" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="128" locator="172:12-172:1194" valueType="t:String" value="Recommended actions:&#xa;CD4 cell count&#xa;TB symptom screening&#xa;&#xa;Desirable actions:&#xa;HBV (HBsAg) serology&#xa;HCV serology&#xa;Screen for sexually transmitted infections   &#xa;Assess for major noncommunicable chronic diseases and comorbidities&#xa;&#xa;General care activities recommended: &#xa;Determine WHO clinical stage based on past and current HIV-related conditions&#xa;Prepare for ART&#xa;Prepare, assess and support adherence&#xa;Provide family planning and contraception&#xa;Support disclosure and partner notification&#xa;Counsel on risk reduction and combination HIV prevention approaches&#xa;Assess, prevent and manage noncommunicable diseases&#xa;Screen for and manage mental health problems&#xa;Screen for and manage and substance use issues&#xa;Provide psychosocial counselling and support&#xa;Manage pain and symptoms&#xa;Conduct a nutritional assessment and counsel on nutrition&#xa;&#xa;Preventing and treating coinfections: &#xa;Provide co-trimoxazole preventive therapy&#xa;Conduct intensified TB case-finding&#xa;Provide isoniazid preventive therapy&#xa;Screen for cryptococcal infection and fungal prophylaxis&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="129" locator="204:10-204:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="140" locator="205:5-238:11" xsi:type="If">
                  <condition localId="137" locator="205:8-205:102" xsi:type="And">
                     <operand localId="135" locator="205:8-205:85" xsi:type="And">
                        <operand localId="133" locator="205:8-205:54" xsi:type="And">
                           <operand localId="131" locator="205:8-205:35" name="HIV testing services visit" xsi:type="ExpressionRef"/>
                           <operand localId="132" locator="205:41-205:54" name="Age under 20" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="134" locator="205:60-205:85" name="HIV Positive test result" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="136" locator="205:91-205:102" name="Not on ART" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="138" locator="206:12-206:1178" valueType="t:String" value="Recommended:&#xa;CD4 cell count&#xa;TB symptom screening&#xa;&#xa;Desirable: &#xa;HBV (HBsAg) serology&#xa;HCV serology&#xa;Screen for sexually transmitted infections   &#xa;Assess for major noncommunicable chronic diseases and comorbidities&#xa;&#xa;General care activities recommended:&#xa; Determine WHO clinical stage based on past and current HIV-related conditions&#xa;Prepare for ART&#xa;Prepare, assess and support adherence&#xa;Provide family planning and contraception&#xa;Support disclosure and partner notification&#xa;Counsel on risk reduction and combination HIV prevention approaches&#xa;Assess, prevent and manage noncommunicable diseases&#xa;Screen for and manage mental health problems&#xa;Screen for and manage and substance use issues&#xa;Provide psychosocial counselling and support&#xa;Manage pain and symptoms&#xa;Conduct a nutritional, growth and development assessment&#xa;&#xa;Preventing and treating coinfections: &#xa;Provide co-trimoxazole preventive therapy&#xa;Conduct intensified TB case-finding&#xa;Provide isoniazid preventive therapy&#xa;Screen for cryptococcal infection and fungal prophylaxis&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="139" locator="238:10-238:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="150" locator="239:5-242:11" xsi:type="If">
                  <condition localId="147" locator="239:8-239:129" xsi:type="And">
                     <operand localId="145" locator="239:8-239:83" xsi:type="And">
                        <operand localId="143" locator="239:8-239:66" xsi:type="And">
                           <operand localId="141" locator="239:8-239:35" name="HIV testing services visit" xsi:type="ExpressionRef"/>
                           <operand localId="142" locator="239:41-239:66" name="HIV Positive test result" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="144" locator="239:72-239:83" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="146" locator="239:89-239:129" name="CD4 less than or equal to 100 cells/mm3" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="148" locator="240:12-240:57" valueType="t:String" value="Desirable actions:&#xa;Cryptococcus antigen test" xsi:type="Literal"/>
                  <else localId="149" locator="242:10-242:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="160" locator="243:5-246:11" xsi:type="If">
                  <condition localId="157" locator="243:8-243:106" xsi:type="And">
                     <operand localId="155" locator="243:8-243:83" xsi:type="And">
                        <operand localId="153" locator="243:8-243:66" xsi:type="And">
                           <operand localId="151" locator="243:8-243:35" name="HIV testing services visit" xsi:type="ExpressionRef"/>
                           <operand localId="152" locator="243:41-243:66" name="HIV Positive test result" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="154" locator="243:72-243:83" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="156" locator="243:89-243:106" name="Client is female" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="158" locator="244:12-244:47" valueType="t:String" value="Desirable actions: &#xa;Pregnancy test" xsi:type="Literal"/>
                  <else localId="159" locator="246:10-246:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="166" locator="247:5-280:11" xsi:type="If">
                  <condition localId="163" locator="247:8-247:46" xsi:type="And">
                     <operand localId="161" locator="247:8-247:29" name="ART initiation visit" xsi:type="ExpressionRef"/>
                     <operand localId="162" locator="247:35-247:46" name="Not on ART" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="164" locator="248:12-248:1321" valueType="t:String" value="Recommended: &#xa;Baseline CD4 cell count for identifying advanced HIV disease&#xa;Age-appropriate TB symptom screening&#xa;&#xa;Desirable: &#xa;Blood pressure measurement &#xa;&#xa;General care activities recommended:&#xa;Preparing people for ART&#xa;WHO clinical staging, past and current HIV- related conditions&#xa;Preparing, assessing and supporting adherence&#xa;Pregnancy status, family planning and contraception&#xa;Support for disclosure and partner notification&#xa;Risk-reduction counselling and combination and HIV prevention approaches&#xa;Screening for, preventing and managing noncommunicable diseases&#xa;Screening for and managing mental health problems and substance use&#xa;Psychosocial counselling and support&#xa;Managing pain and symptoms&#xa;Nutritional assessment and counselling&#xa;Infant and child feeding&#xa;Nutritional, growth and development assessment for children and adolescents&#xa;&#xa;Preventing and treating coinfections: &#xa;Co-trimoxazole preventive therapy&#xa;Intensified TB case- finding&#xa;Isoniazid preventive therapy&#xa;Screening for cryptococcal infection and fungal prophylaxis when appropriate&#xa;Screening for hepatitis B and C&#xa;Malaria prevention (insecticide-treated bed nets and prophylaxis)&#xa;Screening for sexually transmitted infections&#xa;Preventing and screening for cervical cancer&#xa;Assessing for vaccine- preventable diseases other than HBV and HCV infection" xsi:type="Literal"/>
                  <else localId="165" locator="280:10-280:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="176" locator="281:5-283:11" xsi:type="If">
                  <condition localId="173" locator="281:8-281:114" xsi:type="And">
                     <operand localId="171" locator="281:8-281:68" xsi:type="And">
                        <operand localId="169" locator="281:8-281:51" xsi:type="And">
                           <operand localId="167" locator="281:8-281:29" name="ART initiation visit" xsi:type="ExpressionRef"/>
                           <operand localId="168" locator="281:35-281:51" name="Age 10 or older" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="170" locator="281:57-281:68" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="172" locator="281:74-281:114" name="CD4 less than or equal to 200 cells/mm3" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="174" locator="282:12-282:70" valueType="t:String" value="Perform a cryptococcal antigen for adults and adolescents" xsi:type="Literal"/>
                  <else localId="175" locator="283:10-283:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="184" locator="284:5-287:11" xsi:type="If">
                  <condition localId="181" locator="284:8-284:59" xsi:type="And">
                     <operand localId="179" locator="284:8-284:46" xsi:type="And">
                        <operand localId="177" locator="284:8-284:29" name="ART initiation visit" xsi:type="ExpressionRef"/>
                        <operand localId="178" locator="284:35-284:46" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="180" locator="284:52-284:59" name="On AZT" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="182" locator="285:12-285:49" valueType="t:String" value="Desirable actions: &#xa;Haemoglobin test" xsi:type="Literal"/>
                  <else localId="183" locator="287:10-287:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="192" locator="288:5-292:11" xsi:type="If">
                  <condition localId="189" locator="288:8-288:59" xsi:type="And">
                     <operand localId="187" locator="288:8-288:46" xsi:type="And">
                        <operand localId="185" locator="288:8-288:29" name="ART initiation visit" xsi:type="ExpressionRef"/>
                        <operand localId="186" locator="288:35-288:46" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="188" locator="288:52-288:59" name="On TDF" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="190" locator="289:12-289:98" valueType="t:String" value="Desirable actions: &#xa;Serum creatinine test&#xa;Estimated glomerular filtration rate (eGFR)" xsi:type="Literal"/>
                  <else localId="191" locator="292:10-292:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="200" locator="293:5-296:11" xsi:type="If">
                  <condition localId="197" locator="293:8-293:69" xsi:type="And">
                     <operand localId="195" locator="293:8-293:46" xsi:type="And">
                        <operand localId="193" locator="293:8-293:29" name="ART initiation visit" xsi:type="ExpressionRef"/>
                        <operand localId="194" locator="293:35-293:46" name="Not on ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="196" locator="293:52-293:69" name="Client is female" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="198" locator="294:12-294:47" valueType="t:String" value="Desirable actions: &#xa;Pregnancy test" xsi:type="Literal"/>
                  <else localId="199" locator="296:10-296:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="208" locator="297:5-326:11" xsi:type="If">
                  <condition localId="205" locator="297:8-297:58" xsi:type="And">
                     <operand localId="203" locator="297:8-297:45" xsi:type="And">
                        <operand localId="201" locator="297:8-297:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="202" locator="297:29-297:45" name="Age 20 or older" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="204" locator="297:51-297:58" name="On ART" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="206" locator="298:12-298:1205" valueType="t:String" value="Recommended actions:&#xa;Schedule the following viral load tests: &#xa;HIV viral load test ≤ (ART start date + 6 months)&#xa;HIV viral load test ≤ (ART start date + 12 months)&#xa;HIV viral load test every 12 months thereafter&#xa;Perform a CD4 cell count every 6 months until &quot;&quot;Established on ART&quot;&quot; = TRUE&#xa;&#xa;Desirable actions:&#xa;Serum creatinine and estimated glomerular filtration rate for TDF&#xa;&#xa;Recommended general care activities: &#xa;Adherence support interventions should be provided to people on ART (p xxxix of source).&#xa;Manage current medications.&#xa;Provide family planning and contraception.&#xa;Support disclosure and partner notification.&#xa;Counsel on risk reduction and combination HIV prevention approaches.&#xa;Assess, prevent and manage noncommunicable diseases.&#xa;Screen for and manage mental health problems.&#xa;Screen for and manage and substance use issues.&#xa;Provide psychosocial counselling and support.&#xa;Manage pain and symptoms.&#xa;Conduct a nutritional assessment and counsel on nutrition.&#xa;&#xa;Preventing and treating coinfections:&#xa;Provide co-trimoxazole preventive therapy&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="207" locator="326:10-326:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="216" locator="327:5-353:11" xsi:type="If">
                  <condition localId="213" locator="327:8-327:55" xsi:type="And">
                     <operand localId="211" locator="327:8-327:42" xsi:type="And">
                        <operand localId="209" locator="327:8-327:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="210" locator="327:29-327:42" name="Age under 20" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="212" locator="327:48-327:55" name="On ART" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="214" locator="328:12-328:1068" valueType="t:String" value="Recommended actions: &#xa;Schedule viral load tests on the following dates: &#xa;HIV viral load test ≤ (ART start date + 6 months)&#xa;HIV viral load test ≤ (ART start date + 12 months)&#xa;HIV viral load test every 12 months thereafter&#xa;CD4 cell count every 6 months until &quot;&quot;Established on ART&quot;&quot; = TRUE&#xa;&#xa;Recommended general care activities: &#xa;Prepare, assess and support adherence.&#xa;Manage current medications.&#xa;Provide family planning and contraception.&#xa;Support disclosure and partner notification.&#xa;Counsel on risk reduction and combination HIV prevention approaches.&#xa;Assess, prevent and manage noncommunicable diseases.&#xa;Screen for and manage mental health problems.&#xa;Screen for and manage and substance use issues.&#xa;Provide psychosocial counselling and support.&#xa;Manage pain and symptoms.&#xa;Conduct a nutritional, growth and development assessment.&#xa;&#xa;Preventing and treating coinfections:&#xa;Provide co-trimoxazole preventive therapy&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="215" locator="353:10-353:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="224" locator="354:5-356:11" xsi:type="If">
                  <condition localId="221" locator="354:8-354:65" xsi:type="And">
                     <operand localId="219" locator="354:8-354:42" xsi:type="And">
                        <operand localId="217" locator="354:8-354:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="218" locator="354:29-354:42" name="Age under 20" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="220" locator="354:48-354:65" name="Client is female" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="222" locator="355:12-355:27" valueType="t:String" value="Pregnancy test" xsi:type="Literal"/>
                  <else localId="223" locator="356:10-356:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="232" locator="357:5-361:11" xsi:type="If">
                  <condition localId="229" locator="357:8-357:49" xsi:type="And">
                     <operand localId="227" locator="357:8-357:36" xsi:type="And">
                        <operand localId="225" locator="357:8-357:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="226" locator="357:29-357:36" name="On ART" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="228" locator="357:42-357:49" name="On TDF" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="230" locator="358:12-358:94" valueType="t:String" value="Desirable actions: &#xa;Serum creatinine&#xa;Estimated glomerular filtration rate for TDF" xsi:type="Literal"/>
                  <else localId="231" locator="361:10-361:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="240" locator="362:5-385:11" xsi:type="If">
                  <condition localId="237" locator="362:8-362:98" xsi:type="And">
                     <operand localId="235" locator="362:8-362:45" xsi:type="And">
                        <operand localId="233" locator="362:8-362:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="234" locator="362:29-362:45" name="Age 20 or older" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="236" locator="362:51-362:98" name="Suspicion of treatment failure or interruption" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="238" locator="363:12-363:1009" valueType="t:String" value="Desirable actions: &#xa;HBV (HBsAg) serology (before switching ART regimen if this testing was not done or if the result was negative at baseline and the patient was not vaccinated thereafter) &#xa;&#xa;Recommended general care activities: &#xa;Prepare, assess and support adherence.&#xa;Manage current medications.&#xa;Provide family planning and contraception.&#xa;Support disclosure and partner notification.&#xa;Counsel on risk reduction and combination HIV prevention approaches.&#xa;Assess, prevent and manage noncommunicable diseases.&#xa;Screen for and manage mental health problems.&#xa;Screen for and manage and substance use issues.&#xa;Provide psychosocial counselling and support.&#xa;Manage pain and symptoms.&#xa;Conduct a nutritional assessment and counsel on nutrition.&#xa;&#xa;Preventing and treating coinfections: &#xa;Provide co-trimoxazole preventive therapy&#xa;Conduct intensified TB case-finding&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="239" locator="385:10-385:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="248" locator="386:5-409:11" xsi:type="If">
                  <condition localId="245" locator="386:8-386:98" xsi:type="And">
                     <operand localId="243" locator="386:8-386:45" xsi:type="And">
                        <operand localId="241" locator="386:8-386:23" name="Clinical visit" xsi:type="ExpressionRef"/>
                        <operand localId="242" locator="386:29-386:45" name="Age 20 or older" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="244" locator="386:51-386:98" name="Suspicion of treatment failure or interruption" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="246" locator="387:12-387:1005" valueType="t:String" value="Desirable actions: &#xa;HBV (HBsAg) serology (before switching ART regimen if this testing was not done or if the result was negative at baseline and the patient was not vaccinated thereafter)&#xa;&#xa;Recommended general care activities:&#xa;Prepare, assess and support adherence.&#xa;Manage current medications.&#xa;Provide family planning and contraception.&#xa;Support disclosure and partner notification.&#xa;Counsel on risk reduction and combination HIV prevention approaches.&#xa;Assess, prevent and manage noncommunicable diseases.&#xa;Screen for and manage mental health problems.&#xa;Screen for and manage and substance use issues.&#xa;Provide psychosocial counselling and support.&#xa;Manage pain and symptoms.&#xa;Conduct a nutritional, growth and development assessment.&#xa;&#xa;Preventing and treating coinfections:&#xa;Provide co-trimoxazole preventive therapy&#xa;Conduct intensified TB case-finding&#xa;Prevent malaria (insecticide- treated  bed-nets and prophylaxis)&#xa;Screen for sexually transmitted infections&#xa;Assess for vaccine-preventable diseases" xsi:type="Literal"/>
                  <else localId="247" locator="409:10-409:11" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
            </source>
         </expression>
      </def>
   </statements>
</library>
