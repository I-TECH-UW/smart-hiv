<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:t name="DecisionID" value="HIV.B2.DT"/>
      <a:t name="BusinessRule" value="Check for signs of serious illness"/>
      <a:t name="Trigger" value="HIV.B2 Check for signs of serious illness"/>
      <a:t name="Trigger" value="HIV.D3 Check for signs of serious illness"/>
      <a:t name="HitPolicy" value="Rule Order"/>
      <a:t name="Description" value="Check for serious illness&#xa;&#xa;Data Concepts:&#xa;HIV.A.DE17: Age | Calculated age (number of years) of the client based on date of birth&#xa;HIV.D.DE17: Signs of serious illness | Signs that may indicate the client has a serious illness and needs triage or an emergency referral&#xa;HIV.D.DE9: Body temperature | Temperature of the client in Celsius&#xa;&#xa;Consolidated guidelines on HIV prevention, testing, treatment, service delivery and monitoring: recommendations for a public health approach (2021) Chapter 5: Advanced HIV Disease. Figure 5.1: Algorithm for providing a package of care for people with advanced HIV disease."/>
      <a:s r="131">
         <a:s>/**
Library: HIV.B2.DT Logic

@DecisionID: HIV.B2.DT
@BusinessRule: Check for signs of serious illness
@Trigger: HIV.B2 Check for signs of serious illness
@Trigger: HIV.D3 Check for signs of serious illness
@HitPolicy: Rule Order
@Description: Check for serious illness

Data Concepts:
 * HIV.A.DE17: Age | Calculated age (number of years) of the client based on date of birth
 * HIV.D.DE17: Signs of serious illness | Signs that may indicate the client has a serious illness and needs triage or an emergency referral
 * HIV.D.DE9: Body temperature | Temperature of the client in Celsius

Consolidated guidelines on HIV prevention, testing, treatment, service delivery and monitoring: recommendations for a public health approach (2021) Chapter 5: Advanced HIV Disease. Figure 5.1: Algorithm for providing a package of care for people with advanced HIV disease.
*/

library HIVB2DTLogic</a:s>
      </a:s>
   </annotation>
   <identifier id="HIVB2DTLogic" system="http://smart.who.int/hiv"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="21:1-21:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="23:1-23:44" localIdentifier="HIC" path="http://smart.who.int/hiv/HIVCommon" version="0.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVCommon</a:s>
               </a:s>
               <a:s> version '0.0.1' called HIC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="24:1-24:35" localIdentifier="Concepts" path="http://smart.who.int/hiv/HIVConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVConcepts</a:s>
               </a:s>
               <a:s> called Concepts</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="25:1-25:44" localIdentifier="Elements" path="http://smart.who.int/hiv/HIVEncounterElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVEncounterElements</a:s>
               </a:s>
               <a:s> called Elements</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="26:1-26:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="28:1-28:29" localIdentifier="WCom" path="http://smart.who.int/hiv/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WCom</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="8" locator="30:1-30:31" name="Today" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>parameter Today default </a:s>
               <a:s r="7">
                  <a:s>Today()</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="7" locator="30:25-30:31" xsi:type="Today"/>
      </def>
   </parameters>
   <contexts>
      <def locator="32:1-32:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="32:1-32:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="32:1-32:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="13" locator="38:1-39:47" name="Age 10 or older" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Age&quot;"/>
            <a:t name="pseudocode" value="'Age' >= 10 years"/>
            <a:s r="13">
               <a:s>/*
  @input: &quot;Age&quot;
  @pseudocode: 'Age' >= 10 years
  */
define &quot;Age 10 or older&quot;:
  </a:s>
               <a:s r="12">
                  <a:s r="10">
                     <a:s r="9">
                        <a:s>Elements</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="10">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="11"> >= 10</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="12" locator="39:3-39:47" xsi:type="GreaterOrEqual">
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="10" locator="39:3-39:41" name="Current Patient Age In Years" libraryName="Elements" xsi:type="ExpressionRef"/>
            <operand localId="11" locator="39:46-39:47" valueType="t:Integer" value="10" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="18" locator="45:1-46:46" name="Age under 10" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="&quot;Age&quot;"/>
            <a:t name="pseudocode" value="'Age' &lt; 10 years"/>
            <a:s r="18">
               <a:s>/*
  @input: &quot;Age&quot;
  @pseudocode: 'Age' &lt; 10 years
  */
define &quot;Age under 10&quot;:
  </a:s>
               <a:s r="17">
                  <a:s r="15">
                     <a:s r="14">
                        <a:s>Elements</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="15">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="16"> &lt; 10</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="17" locator="46:3-46:46" xsi:type="Less">
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="15" locator="46:3-46:41" name="Current Patient Age In Years" libraryName="Elements" xsi:type="ExpressionRef"/>
            <operand localId="16" locator="46:45-46:46" valueType="t:Integer" value="10" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="30" locator="51:1-55:3" name="Immediately take action or refer for care if a client is having this issue" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="output" value="&quot;Immediately take action or refer for care if a client is having this issue&quot;"/>
            <a:s r="30">
               <a:s>/*
 @output: &quot;Immediately take action or refer for care if a client is having this issue&quot;
 */
define &quot;Immediately take action or refer for care if a client is having this issue&quot;:
  </a:s>
               <a:s r="29">
                  <a:s r="19">
                     <a:s>&quot;Age 10 or older&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="28">
                     <a:s>exists</a:s>
                     <a:s r="27">
                        <a:s>(
    </a:s>
                        <a:s r="27">
                           <a:s>
                              <a:s r="21">
                                 <a:s r="20">
                                    <a:s>
                                       <a:s>Elements.&quot;Signs of serious illness Observation&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> O</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="26">
                              <a:s>where </a:s>
                              <a:s r="26">
                                 <a:s r="23">
                                    <a:s r="22">
                                       <a:s>O</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="23">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="25">
                                    <a:s r="24">
                                       <a:s>Concepts</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="25">
                                       <a:s>&quot;Tachycardia&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="29" locator="52:3-55:3" xsi:type="And">
            <operand localId="19" locator="52:3-52:19" name="Age 10 or older" xsi:type="ExpressionRef"/>
            <operand localId="28" locator="52:25-55:3" xsi:type="Exists">
               <operand localId="27" locator="52:31-55:3" xsi:type="Query">
                  <source localId="21" locator="53:5-53:53" alias="O">
                     <expression localId="20" locator="53:5-53:51" name="Signs of serious illness Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="26" locator="54:7-54:44" xsi:type="Equivalent">
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:CodeableConcept" xsi:type="As">
                           <operand localId="23" locator="54:13-54:19" path="value" scope="O" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand xsi:type="ToConcept">
                        <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="25" locator="54:23-54:44" name="Tachycardia" libraryName="Concepts" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="48" locator="93:1-99:3" name="Signs of serious illness age 10 or older" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="48">
               <a:s>/*
 Supporting Logic
*/
define &quot;Signs of serious illness age 10 or older&quot;:
  </a:s>
               <a:s r="47">
                  <a:s r="31">
                     <a:s>&quot;Age 10 or older&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="46">
                     <a:s>exists</a:s>
                     <a:s r="45">
                        <a:s>(
    </a:s>
                        <a:s r="45">
                           <a:s>
                              <a:s r="33">
                                 <a:s r="32">
                                    <a:s>
                                       <a:s>Elements.&quot;Signs of serious illness Observation&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> O</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="44">
                              <a:s>where
        </a:s>
                              <a:s r="44">
                                 <a:s r="38">
                                    <a:s r="35">
                                       <a:s r="34">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="35">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="37">
                                       <a:s r="36">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="37">
                                          <a:s>&quot;Tachypnea&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="43">
                                    <a:s r="40">
                                       <a:s r="39">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="40">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="42">
                                       <a:s r="41">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="42">
                                          <a:s>&quot;Unable to walk unaided&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="47" locator="94:3-99:3" xsi:type="And">
            <operand localId="31" locator="94:3-94:19" name="Age 10 or older" xsi:type="ExpressionRef"/>
            <operand localId="46" locator="94:25-99:3" xsi:type="Exists">
               <operand localId="45" locator="94:31-99:3" xsi:type="Query">
                  <source localId="33" locator="95:5-95:53" alias="O">
                     <expression localId="32" locator="95:5-95:51" name="Signs of serious illness Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="44" locator="96:7-98:51" xsi:type="Or">
                     <operand localId="38" locator="97:9-97:38" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="35" locator="97:9-97:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="37" locator="97:19-97:38" name="Tachypnea" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="43" locator="98:9-98:51" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="40" locator="98:9-98:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="42" locator="98:19-98:51" name="Unable to walk unaided" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="91" locator="101:1-111:5" name="Signs of serious illness age under 10" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="91">
               <a:s>define &quot;Signs of serious illness age under 10&quot;:
  </a:s>
               <a:s r="90">
                  <a:s r="50">
                     <a:s>&quot;Age under 10&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="89">
                     <a:s>exists</a:s>
                     <a:s r="88">
                        <a:s>(
    </a:s>
                        <a:s r="88">
                           <a:s>
                              <a:s r="52">
                                 <a:s r="51">
                                    <a:s>
                                       <a:s>Elements.&quot;Signs of serious illness Observation&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> O</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="87">
                              <a:s>where
        </a:s>
                              <a:s r="87">
                                 <a:s r="81">
                                    <a:s r="75">
                                       <a:s r="69">
                                          <a:s r="63">
                                             <a:s r="57">
                                                <a:s r="54">
                                                   <a:s r="53">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="54">
                                                      <a:s>value</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="56">
                                                   <a:s r="55">
                                                      <a:s>Concepts</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="56">
                                                      <a:s>&quot;Lethargy - HIV.D.DE22&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> or
        </a:s>
                                             <a:s r="62">
                                                <a:s r="59">
                                                   <a:s r="58">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="59">
                                                      <a:s>value</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="61">
                                                   <a:s r="60">
                                                      <a:s>Concepts</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="61">
                                                      <a:s>&quot;Unconsciousness&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> or
        </a:s>
                                          <a:s r="68">
                                             <a:s r="65">
                                                <a:s r="64">
                                                   <a:s>O</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="65">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ~ </a:s>
                                             <a:s r="67">
                                                <a:s r="66">
                                                   <a:s>Concepts</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="67">
                                                   <a:s>&quot;Convulsions&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> or
        </a:s>
                                       <a:s r="74">
                                          <a:s r="71">
                                             <a:s r="70">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="71">
                                                <a:s>value</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="73">
                                             <a:s r="72">
                                                <a:s>Concepts</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="73">
                                                <a:s>&quot;Unable to breastfeed&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or
        </a:s>
                                    <a:s r="80">
                                       <a:s r="77">
                                          <a:s r="76">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="77">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="79">
                                          <a:s r="78">
                                             <a:s>Concepts</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="79">
                                             <a:s>&quot;Unable to drink&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="86">
                                    <a:s r="83">
                                       <a:s r="82">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="83">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="85">
                                       <a:s r="84">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="85">
                                          <a:s>&quot;Repeated vomiting&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="90" locator="102:3-111:5" xsi:type="And">
            <operand localId="50" locator="102:3-102:16" name="Age under 10" xsi:type="ExpressionRef"/>
            <operand localId="89" locator="102:22-111:5" xsi:type="Exists">
               <operand localId="88" locator="102:28-111:5" xsi:type="Query">
                  <source localId="52" locator="103:5-103:53" alias="O">
                     <expression localId="51" locator="103:5-103:51" name="Signs of serious illness Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="87" locator="104:7-110:46" xsi:type="Or">
                     <operand localId="81" locator="105:9-109:44" xsi:type="Or">
                        <operand localId="75" locator="105:9-108:49" xsi:type="Or">
                           <operand localId="69" locator="105:9-107:40" xsi:type="Or">
                              <operand localId="63" locator="105:9-106:44" xsi:type="Or">
                                 <operand localId="57" locator="105:9-105:50" xsi:type="Equivalent">
                                    <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand asType="fhir:CodeableConcept" xsi:type="As">
                                          <operand localId="54" locator="105:9-105:15" path="value" scope="O" xsi:type="Property"/>
                                       </operand>
                                    </operand>
                                    <operand xsi:type="ToConcept">
                                       <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="56" locator="105:19-105:50" name="Lethargy - HIV.D.DE22" libraryName="Concepts" xsi:type="CodeRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="62" locator="106:9-106:44" xsi:type="Equivalent">
                                    <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand asType="fhir:CodeableConcept" xsi:type="As">
                                          <operand localId="59" locator="106:9-106:15" path="value" scope="O" xsi:type="Property"/>
                                       </operand>
                                    </operand>
                                    <operand xsi:type="ToConcept">
                                       <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="61" locator="106:19-106:44" name="Unconsciousness" libraryName="Concepts" xsi:type="CodeRef"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="68" locator="107:9-107:40" xsi:type="Equivalent">
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:CodeableConcept" xsi:type="As">
                                       <operand localId="65" locator="107:9-107:15" path="value" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <operand xsi:type="ToConcept">
                                    <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="67" locator="107:19-107:40" name="Convulsions" libraryName="Concepts" xsi:type="CodeRef"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="74" locator="108:9-108:49" xsi:type="Equivalent">
                              <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand asType="fhir:CodeableConcept" xsi:type="As">
                                    <operand localId="71" locator="108:9-108:15" path="value" scope="O" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <operand xsi:type="ToConcept">
                                 <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="73" locator="108:19-108:49" name="Unable to breastfeed" libraryName="Concepts" xsi:type="CodeRef"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="80" locator="109:9-109:44" xsi:type="Equivalent">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:CodeableConcept" xsi:type="As">
                                 <operand localId="77" locator="109:9-109:15" path="value" scope="O" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="79" locator="109:19-109:44" name="Unable to drink" libraryName="Concepts" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="86" locator="110:9-110:46" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="83" locator="110:9-110:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="85" locator="110:19-110:46" name="Repeated vomiting" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="94" locator="60:1-61:87" name="Immediately take action or refer for care if client is showing this sign of a serious illness" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="94">
               <a:s>/*
 @output &quot;Immediately take action or refer for care if client is showing this sign of a serious illness.&quot;
 */
define &quot;Immediately take action or refer for care if client is showing this sign of a serious illness&quot;:
  </a:s>
               <a:s r="93">
                  <a:s r="49">
                     <a:s>&quot;Signs of serious illness age 10 or older&quot;</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="92">
                     <a:s>&quot;Signs of serious illness age under 10&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="93" locator="61:3-61:87" xsi:type="Or">
            <operand localId="49" locator="61:3-61:44" name="Signs of serious illness age 10 or older" xsi:type="ExpressionRef"/>
            <operand localId="92" locator="61:49-61:87" name="Signs of serious illness age under 10" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="112" locator="113:1-119:3" name="Signs of serious illness requiring clinical judgement age 10 or older" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="112">
               <a:s>define &quot;Signs of serious illness requiring clinical judgement age 10 or older&quot;:
  </a:s>
               <a:s r="111">
                  <a:s r="95">
                     <a:s>&quot;Age 10 or older&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="110">
                     <a:s>exists</a:s>
                     <a:s r="109">
                        <a:s>(
    </a:s>
                        <a:s r="109">
                           <a:s>
                              <a:s r="97">
                                 <a:s r="96">
                                    <a:s>
                                       <a:s>Elements.&quot;Signs of serious illness Observation&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> O</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="108">
                              <a:s>where
        </a:s>
                              <a:s r="108">
                                 <a:s r="102">
                                    <a:s r="99">
                                       <a:s r="98">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="99">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="101">
                                       <a:s r="100">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="101">
                                          <a:s>&quot;Fever of 39 C or greater&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="107">
                                    <a:s r="104">
                                       <a:s r="103">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="104">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="106">
                                       <a:s r="105">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="106">
                                          <a:s>&quot;Other sign of serious illness&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="111" locator="114:3-119:3" xsi:type="And">
            <operand localId="95" locator="114:3-114:19" name="Age 10 or older" xsi:type="ExpressionRef"/>
            <operand localId="110" locator="114:25-119:3" xsi:type="Exists">
               <operand localId="109" locator="114:31-119:3" xsi:type="Query">
                  <source localId="97" locator="115:5-115:53" alias="O">
                     <expression localId="96" locator="115:5-115:51" name="Signs of serious illness Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="108" locator="116:7-118:58" xsi:type="Or">
                     <operand localId="102" locator="117:9-117:53" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="99" locator="117:9-117:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="101" locator="117:19-117:53" name="Fever of 39 C or greater" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="107" locator="118:9-118:58" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="104" locator="118:9-118:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="106" locator="118:19-118:58" name="Other sign of serious illness" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="131" locator="121:1-127:3" name="Signs of serious illness requiring clinical judgement age under 10" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="131">
               <a:s>define &quot;Signs of serious illness requiring clinical judgement age under 10&quot;:
  </a:s>
               <a:s r="130">
                  <a:s r="114">
                     <a:s>&quot;Age under 10&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="129">
                     <a:s>exists</a:s>
                     <a:s r="128">
                        <a:s>(
    </a:s>
                        <a:s r="128">
                           <a:s>
                              <a:s r="116">
                                 <a:s r="115">
                                    <a:s>
                                       <a:s>Elements.&quot;Signs of serious illness Observation&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> O</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="127">
                              <a:s>where
        </a:s>
                              <a:s r="127">
                                 <a:s r="121">
                                    <a:s r="118">
                                       <a:s r="117">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="118">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="120">
                                       <a:s r="119">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="120">
                                          <a:s>&quot;Fever of 39 C or greater&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="126">
                                    <a:s r="123">
                                       <a:s r="122">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="123">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="125">
                                       <a:s r="124">
                                          <a:s>Concepts</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="125">
                                          <a:s>&quot;Other sign of serious illness&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="130" locator="122:3-127:3" xsi:type="And">
            <operand localId="114" locator="122:3-122:16" name="Age under 10" xsi:type="ExpressionRef"/>
            <operand localId="129" locator="122:22-127:3" xsi:type="Exists">
               <operand localId="128" locator="122:28-127:3" xsi:type="Query">
                  <source localId="116" locator="123:5-123:53" alias="O">
                     <expression localId="115" locator="123:5-123:51" name="Signs of serious illness Observation" libraryName="Elements" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="127" locator="124:7-126:58" xsi:type="Or">
                     <operand localId="121" locator="125:9-125:53" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="118" locator="125:9-125:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="120" locator="125:19-125:53" name="Fever of 39 C or greater" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="126" locator="126:9-126:58" xsi:type="Equivalent">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:CodeableConcept" xsi:type="As">
                              <operand localId="123" locator="126:9-126:15" path="value" scope="O" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="125" locator="126:19-126:58" name="Other sign of serious illness" libraryName="Concepts" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="134" locator="66:1-67:145" name="Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="134">
               <a:s>/*
 @output &quot;Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill&quot;
 */
define &quot;Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill&quot;:
  </a:s>
               <a:s r="133">
                  <a:s r="113">
                     <a:s>&quot;Signs of serious illness requiring clinical judgement age 10 or older&quot;</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="132">
                     <a:s>&quot;Signs of serious illness requiring clinical judgement age under 10&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="133" locator="67:3-67:145" xsi:type="Or">
            <operand localId="113" locator="67:3-67:73" name="Signs of serious illness requiring clinical judgement age 10 or older" xsi:type="ExpressionRef"/>
            <operand localId="132" locator="67:78-67:145" name="Signs of serious illness requiring clinical judgement age under 10" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="157" locator="72:1-88:4" name="Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="dynamicValue" value="Guidance"/>
            <a:s r="157">
               <a:s>/*
 @dynamicValue: Guidance
 */
define &quot;Guidance&quot;:
  </a:s>
               <a:s r="156">
                  <a:s>Combine(</a:s>
                  <a:s r="155">
                     <a:s>{ 
    </a:s>
                     <a:s r="138">
                        <a:s>if </a:s>
                        <a:s r="135">
                           <a:s>&quot;Immediately take action or refer for care if a client is having this issue&quot;</a:s>
                        </a:s>
                        <a:s> 
      then </a:s>
                        <a:s r="136">
                           <a:s>'Immediately take action or refer for care if a client is having this issue.'</a:s>
                        </a:s>
                        <a:s>
      else </a:s>
                        <a:s r="137">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="144">
                        <a:s>if </a:s>
                        <a:s r="141">
                           <a:s r="139">
                              <a:s>&quot;Immediately take action or refer for care if client is showing this sign of a serious illness&quot;</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="140">
                              <a:s>&quot;Age 10 or older&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="142">
                           <a:s>'Immediately take action or refer for care if client is showing this sign of a serious illness.'</a:s>
                        </a:s>
                        <a:s>
      else </a:s>
                        <a:s r="143">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="150">
                        <a:s>if </a:s>
                        <a:s r="147">
                           <a:s r="145">
                              <a:s>&quot;Immediately take action or refer for care if client is showing this sign of a serious illness&quot;</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="146">
                              <a:s>&quot;Age under 10&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="148">
                           <a:s>'This is a sign and/or symptom of a serious health condition.
    
  Immediately take action or refer for care if client is showing this sign of a serious illness.'</a:s>
                        </a:s>
                        <a:s>
      else </a:s>
                        <a:s r="149">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="154">
                        <a:s>if </a:s>
                        <a:s r="151">
                           <a:s>&quot;Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill&quot;</a:s>
                        </a:s>
                        <a:s>
      then </a:s>
                        <a:s r="152">
                           <a:s>'Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill. '</a:s>
                        </a:s>
                        <a:s>
      else </a:s>
                        <a:s r="153">
                           <a:s>''</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  }</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="156" locator="73:3-88:4" xsi:type="Combine">
            <source localId="155" locator="73:11-88:3" xsi:type="List">
               <element localId="138" locator="74:5-76:13" xsi:type="If">
                  <condition localId="135" locator="74:8-74:83" name="Immediately take action or refer for care if a client is having this issue" xsi:type="ExpressionRef"/>
                  <then localId="136" locator="75:12-75:88" valueType="t:String" value="Immediately take action or refer for care if a client is having this issue." xsi:type="Literal"/>
                  <else localId="137" locator="76:12-76:13" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="144" locator="77:5-79:13" xsi:type="If">
                  <condition localId="141" locator="77:8-77:124" xsi:type="And">
                     <operand localId="139" locator="77:8-77:102" name="Immediately take action or refer for care if client is showing this sign of a serious illness" xsi:type="ExpressionRef"/>
                     <operand localId="140" locator="77:108-77:124" name="Age 10 or older" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="142" locator="78:12-78:107" valueType="t:String" value="Immediately take action or refer for care if client is showing this sign of a serious illness." xsi:type="Literal"/>
                  <else localId="143" locator="79:12-79:13" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="150" locator="80:5-84:13" xsi:type="If">
                  <condition localId="147" locator="80:8-80:121" xsi:type="And">
                     <operand localId="145" locator="80:8-80:102" name="Immediately take action or refer for care if client is showing this sign of a serious illness" xsi:type="ExpressionRef"/>
                     <operand localId="146" locator="80:108-80:121" name="Age under 10" xsi:type="ExpressionRef"/>
                  </condition>
                  <then localId="148" locator="81:12-81:175" valueType="t:String" value="This is a sign and/or symptom of a serious health condition.&#xa;    &#xa;  Immediately take action or refer for care if client is showing this sign of a serious illness." xsi:type="Literal"/>
                  <else localId="149" locator="84:12-84:13" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
               <element localId="154" locator="85:5-87:13" xsi:type="If">
                  <condition localId="151" locator="85:8-85:120" name="Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill" xsi:type="ExpressionRef"/>
                  <then localId="152" locator="86:12-86:126" valueType="t:String" value="Use clinical judgement and consider local epidemiology to determine if symptoms suggest client is seriously ill. " xsi:type="Literal"/>
                  <else localId="153" locator="87:12-87:13" valueType="t:String" value="" xsi:type="Literal"/>
               </element>
            </source>
         </expression>
      </def>
   </statements>
</library>
