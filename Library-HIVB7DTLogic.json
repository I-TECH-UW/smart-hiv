{
  "resourceType" : "Library",
  "id" : "HIVB7DTLogic",
  "meta" : {
    "profile" : ["http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary",
    "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary",
    "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library",
    "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-module"]
  },
  "text" : {
    "status" : "extensions",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<div>\n    <table class=\"grid dict\">\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">HIV.B7.DT Logic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">HIVB7DTLogic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">0.4.1</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\"><a href=\"Library-HIVB7DTLogic.html\">HIV.B7.DT Logic</a></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Status: </b></th>\n            <td style=\"padding-left: 4px;\">draft</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Experimental: </b></th>\n            <td style=\"padding-left: 4px;\">true</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span><a href=\"http://terminology.hl7.org/6.0.2/CodeSystem-library-type.html\">http://terminology.hl7.org/CodeSystem/library-type</a></span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>logic-library</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-02-01 23:38:57+0000</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">WHO</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\"><div><p>Description not yet available for HIV.B7.DT Logic.</p>\n</div></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><a id=\"cql-content\"><b>Content: </b></a> text/cql</th></tr>\n              <tr><td><pre><code class=\"language-cql\">/**\nLibrary: HIV.B7.DT Logic\n\n@DecisionID: HIV.B7.DT\n@BusinessRule: WHO standard testing strategy for HIV-1 diagnosis (among people ≥18 months of age)\n@Trigger: HIV.B7 Test for HIV using testing algorithm, HIV.C4 Test for HIV using testing algorithm, HIV.D.11 Retest using HIV strategy\n@Description: WHO standard testing strategy for HIV-1 diagnosis (among people ≥18 months of age)\n\nData Concepts:\n\n*/\n\nlibrary HIVB7DTLogic\n\nusing FHIR version '4.0.1'\n\ninclude HIVCommon version '0.0.1' called HIC\ninclude HIVConcepts called Concepts\ninclude HIVEncounterElements called Elements\ninclude FHIRHelpers version '4.0.1'\n\ninclude WHOCommon called WCom\n  \ncontext Patient\n\n/*\n @output: &quot;Report as HIV-negative&quot;\n */\ndefine &quot;Report as HIV-negative&quot;:\n  case \n  when &quot;Assay 1&quot; and &quot;Non-reactive result&quot;\n    then true\n  else null\n  end\n\n/*\n Supporting Logic\n */\ndefine &quot;Assay 1&quot;:\n  exists(&quot;Assay 1 result&quot;) and not(exists(&quot;Assay 2 result&quot;))\n\ndefine &quot;Assay 2&quot;:\n  exists(&quot;Assay 2 result&quot;) and not(exists(&quot;Assay 3 result&quot;))\n\ndefine &quot;Assay 3&quot;:\n  exists(&quot;Assay 3 result&quot;)\n\ndefine &quot;Assay 1 result&quot;:\n  Elements.&quot;Test result of HIV assay 1 B.DE94&quot;\n\ndefine &quot;Assay 2 result&quot;:\n  Elements.&quot;Test result of HIV assay 2 B.DE98&quot;\n\ndefine &quot;Assay 3 result&quot;:\n  Elements.&quot;Test result of HIV assay 3 B.DE102&quot;\n\ndefine &quot;Non-reactive result&quot;:\n  false\n</code></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n        \n    </table>\n</div>\n</div>"
  },
  "extension" : [{
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-knowledgeCapability",
    "valueCode" : "computable"
  }],
  "url" : "http://smart.who.int/hiv/Library/HIVB7DTLogic",
  "version" : "0.4.1",
  "name" : "HIVB7DTLogic",
  "title" : "HIV.B7.DT Logic",
  "status" : "draft",
  "experimental" : true,
  "type" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/library-type",
      "code" : "logic-library"
    }]
  },
  "date" : "2025-02-01T23:38:57+00:00",
  "publisher" : "WHO",
  "contact" : [{
    "name" : "WHO",
    "telecom" : [{
      "system" : "url",
      "value" : "http://who.int"
    }]
  }],
  "description" : "Description not yet available for HIV.B7.DT Logic.",
  "content" : [{
    "contentType" : "text/cql",
    "data" : "LyoqCkxpYnJhcnk6IEhJVi5CNy5EVCBMb2dpYwoKQERlY2lzaW9uSUQ6IEhJVi5CNy5EVApAQnVzaW5lc3NSdWxlOiBXSE8gc3RhbmRhcmQgdGVzdGluZyBzdHJhdGVneSBmb3IgSElWLTEgZGlhZ25vc2lzIChhbW9uZyBwZW9wbGUg4omlMTggbW9udGhzIG9mIGFnZSkKQFRyaWdnZXI6IEhJVi5CNyBUZXN0IGZvciBISVYgdXNpbmcgdGVzdGluZyBhbGdvcml0aG0sIEhJVi5DNCBUZXN0IGZvciBISVYgdXNpbmcgdGVzdGluZyBhbGdvcml0aG0sIEhJVi5ELjExIFJldGVzdCB1c2luZyBISVYgc3RyYXRlZ3kKQERlc2NyaXB0aW9uOiBXSE8gc3RhbmRhcmQgdGVzdGluZyBzdHJhdGVneSBmb3IgSElWLTEgZGlhZ25vc2lzIChhbW9uZyBwZW9wbGUg4omlMTggbW9udGhzIG9mIGFnZSkKCkRhdGEgQ29uY2VwdHM6CgoqLwoKbGlicmFyeSBISVZCN0RUTG9naWMKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEhJVkNvbW1vbiB2ZXJzaW9uICcwLjAuMScgY2FsbGVkIEhJQwppbmNsdWRlIEhJVkNvbmNlcHRzIGNhbGxlZCBDb25jZXB0cwppbmNsdWRlIEhJVkVuY291bnRlckVsZW1lbnRzIGNhbGxlZCBFbGVtZW50cwppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJwoKaW5jbHVkZSBXSE9Db21tb24gY2FsbGVkIFdDb20KICAKY29udGV4dCBQYXRpZW50CgovKgogQG91dHB1dDogIlJlcG9ydCBhcyBISVYtbmVnYXRpdmUiCiAqLwpkZWZpbmUgIlJlcG9ydCBhcyBISVYtbmVnYXRpdmUiOgogIGNhc2UgCiAgd2hlbiAiQXNzYXkgMSIgYW5kICJOb24tcmVhY3RpdmUgcmVzdWx0IgogICAgdGhlbiB0cnVlCiAgZWxzZSBudWxsCiAgZW5kCgovKgogU3VwcG9ydGluZyBMb2dpYwogKi8KZGVmaW5lICJBc3NheSAxIjoKICBleGlzdHMoIkFzc2F5IDEgcmVzdWx0IikgYW5kIG5vdChleGlzdHMoIkFzc2F5IDIgcmVzdWx0IikpCgpkZWZpbmUgIkFzc2F5IDIiOgogIGV4aXN0cygiQXNzYXkgMiByZXN1bHQiKSBhbmQgbm90KGV4aXN0cygiQXNzYXkgMyByZXN1bHQiKSkKCmRlZmluZSAiQXNzYXkgMyI6CiAgZXhpc3RzKCJBc3NheSAzIHJlc3VsdCIpCgpkZWZpbmUgIkFzc2F5IDEgcmVzdWx0IjoKICBFbGVtZW50cy4iVGVzdCByZXN1bHQgb2YgSElWIGFzc2F5IDEgQi5ERTk0IgoKZGVmaW5lICJBc3NheSAyIHJlc3VsdCI6CiAgRWxlbWVudHMuIlRlc3QgcmVzdWx0IG9mIEhJViBhc3NheSAyIEIuREU5OCIKCmRlZmluZSAiQXNzYXkgMyByZXN1bHQiOgogIEVsZW1lbnRzLiJUZXN0IHJlc3VsdCBvZiBISVYgYXNzYXkgMyBCLkRFMTAyIgoKZGVmaW5lICJOb24tcmVhY3RpdmUgcmVzdWx0IjoKICBmYWxzZQo="
  }]
}